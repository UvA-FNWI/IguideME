{"version":3,"file":"static/js/935.e1b1399f.chunk.js","mappings":"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","sources":["common/Admin/AdminMenu/index.tsx","common/Admin/index.tsx","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/DataSourceUpload/DemoAnimation/index.tsx","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/DataSourceUpload/index.tsx","utils/validators.ts","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/helpers.ts","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/Relationships/RelationMapper/helpers.ts","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/Relationships/RelationMapper/index.tsx","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/Relationships/index.tsx","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/TrainModels/helpers.ts","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/TrainModels/index.tsx","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/steps/UploadOverview/index.tsx","common/Admin/sections/grades/GradePredictorOld/ConfigureModel/index.tsx","common/Admin/sections/grades/GradePredictorOld/ModelResults/index.tsx","common/Admin/sections/grades/GradePredictorOld/index.tsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport {\n    AppstoreOutlined,\n    ControlOutlined,\n    CloudUploadOutlined,\n    // ClusterOutlined,\n    DotChartOutlined,\n    FundProjectionScreenOutlined,\n    LaptopOutlined,\n    TrophyOutlined,\n    NotificationOutlined,\n    DatabaseOutlined,\n    UserOutlined,\n    TeamOutlined\n} from \"@ant-design/icons\";\nimport { Menu } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nimport { RootState } from \"../../../store\";\nimport { connect, ConnectedProps } from \"react-redux\";\n\nconst mapState = (state: RootState) => ({\n    user: state.user\n});\n\nconst connector = connect(mapState)\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\ntype Props = { menuKey: string } & PropsFromRedux;\n\nclass AdminMenu extends Component<Props> {\n\n    render(): React.ReactNode {\n        const { user } = this.props;\n\n        return (\n            <div id={\"adminMenu\"}>\n                <div id={\"user\"}>\n                    <h3>{user ? user.name : \"Loading profile...\"}</h3>\n                    <strong><UserOutlined /> Instructor</strong>\n                </div>\n\n                <Menu selectedKeys={[this.props.menuKey]}>\n                    <Menu.Item key={\"datamart\"} icon={<DatabaseOutlined />}>\n                        <Link to={'/admin'}>\n                            Datamart\n                        </Link>\n                    </Menu.Item>\n\n                    <Menu.Item key={\"tiles\"} icon={<AppstoreOutlined />}>\n                        <Link to={'/admin/tiles'}>\n                            Tiles\n                        </Link>\n                    </Menu.Item>\n\n                    <Menu.Item key={\"dashboard\"} icon={<LaptopOutlined />}>\n                        <Link to={'/admin/dashboard'}>\n                            Dashboard\n                        </Link>\n                    </Menu.Item>\n\n                    <Menu.Item key={\"studentOverview\"} icon={<TeamOutlined />}>\n                        <Link to={'/admin/student-overview'}>\n                            Student Overview\n                        </Link>\n                    </Menu.Item>\n                    <Menu.SubMenu key={\"submenu\"} icon={<TrophyOutlined />} title={\"Grades\"}>\n                        {/* TODO: completely remove oldpredictor from code */}\n                        {/* <Menu.Item key={\"gradePredictorOld\"} icon={<FundProjectionScreenOutlined />}>\n                            <Link to={'/admin/grade-predictor-old'}>\n                                Old Predictor\n                            </Link>\n                        </Menu.Item> */}\n                        <Menu.Item key={\"gradePredictor\"} icon={<FundProjectionScreenOutlined />}>\n                            <Link to={'/admin/grade-predictor'}>\n                                Predictor\n                            </Link>\n                        </Menu.Item>\n                        <Menu.Item key={\"gradeAnalyzer\"} icon={<DotChartOutlined />}>\n                            <Link to={'/admin/grade-analyzer'}>\n                                Analyzer\n                            </Link>\n                        </Menu.Item>\n                    </Menu.SubMenu>\n                    <Menu.Item key={\"dataWizard\"} icon={<CloudUploadOutlined />}>\n                        <Link to={'/admin/data-wizard'}>\n                            Data Wizard\n                        </Link>\n                    </Menu.Item>\n                    {/* <Menu.Item key={\"analytics\"} icon={<ClusterOutlined />}>\n                        <Link to={'/admin/analytics'}>\n                            Analytics\n                        </Link>\n                    </Menu.Item> */}\n                    <Menu.Item key={\"notificationCentre\"} icon={<NotificationOutlined />}>\n                        <Link to={'/admin/notification-centre'}>\n                            Notification Centre\n                        </Link>\n                    </Menu.Item>\n                    <Menu.Item key={\"settings\"} icon={<ControlOutlined />}>\n                        <Link to={'/admin/settings'}>\n                            Settings\n                        </Link>\n                    </Menu.Item>\n                </Menu>\n            </div>\n        )\n    }\n}\n\nexport default connector(AdminMenu);\n","import React, { Component } from \"react\";\nimport { withAdminRole } from \"../../hoc/withAdminRole\";\nimport AdminHeader from \"../../containers/AdminHeader\";\nimport { Redirect } from \"react-router-dom\";\nimport { Col, Row } from \"antd\";\nimport AdminMenu from \"./AdminMenu\";\nimport \"./style.scss\";\n\nclass Admin extends Component<any> {\n\n  render(): React.ReactNode {\n    const { isAdmin, menuKey } = this.props;\n    if (!isAdmin) return (<Redirect to={'/'} />);\n\n    return (\n      <div id={\"admin\"}>\n        <AdminHeader />\n        <Row>\n          <Col xs={4}>\n            <AdminMenu menuKey={menuKey} />\n          </Col>\n          <Col xs={20} id={'wrapper'} className={`${ menuKey !== \"settings\" && \"noOverflow\"}`}>\n            { this.props.children }\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default withAdminRole(Admin);","import React, { Component } from \"react\";\nimport \"./style.scss\";\n\nexport default class DemoAnimation extends Component {\n\n  state = {\n    offset: -2\n  }\n\n  componentDidMount(): void {\n    setTimeout(() => {\n      this.setState({ offset: 300 });\n    }, 500)\n  }\n\n  render(): React.ReactNode {\n    const { offset } = this.state;\n\n    return (\n      <div id={\"demoAnimation\"}>\n        <div id={\"spreadsheet\"}>\n          <div id={\"wallpaper\"} />\n          <svg width={400} height={300}>\n            <rect x={0} y={0} width={400} height={300} fill={\"transparent\"} />\n            <rect x={0} y={offset} width={400} height={3} fill={'rgba(255, 0, 0, 0.75)'} />\n          </svg>\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport CSVReader from \"react-csv-reader\";\nimport { Alert, Col, Divider, message, Row } from \"antd\";\nimport \"./style.scss\";\nimport { validateExternalUploadSchema } from \"../../../../../../../../utils/validators\";\nimport DemoAnimation from \"./DemoAnimation\";\n\ntype IProps = {\n    setData: (data: any[]) => any;\n}\n\nexport default class DataSourceUpload extends Component<IProps> {\n    render(): React.ReactNode {\n        return (\n            <div>\n                <Row>\n                    <Col xs={24} md={14}>\n                        <h2>Step 1. Historic data</h2>\n                        <Divider />\n                        <p>To train the predictive models historic course data is required. If you do not have historic course data available you are unable to create a predictive model, be sure to save this year's data for next year! Please provide the data in a <strong>CSV</strong> format. The data must adhere to the simple principle that each column corresponds to a unique gradable component (i.e. a quiz or exam), and each row represents a student. There must be a column named <i>final_grade</i> specifying the final grade of the student for the course.</p>\n\n                        <Alert message={\"The models are trained on the data source from your local browser. This means that the data source will never be uploaded to our service. Only the computed model states will be stored by the application.\"} />\n\n                        <div id={\"dataSourceUpload\"}>\n                            <label style={{ height: 'fit-content' }}>\n                                Upload data source\n                              <CSVReader\n                                    inputId={'CSVReader'}\n                                    inputStyle={{ display: 'none' }}\n                                    onFileLoaded={(records) => {\n                                        if (!validateExternalUploadSchema(records))\n                                            return message.error(\"Invalid data schema!\");\n\n                                        this.props.setData(records);\n                                    }}\n                                    onError={() => message.error(\"Invalid data source!\")}\n                                    parserOptions={{\n                                        header: true,\n                                        dynamicTyping: true,\n                                        skipEmptyLines: true,\n                                        transformHeader: (header: any) =>\n                                            header\n                                                .toLowerCase()\n                                                .replace(/\\W/g, '_')\n                                    }}\n                                />\n                            </label>\n                        </div>\n                    </Col>\n                    <Col xs={0} md={10}>\n                        <DemoAnimation />\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n","export const validateExternalUploadSchema = (records: any[]) => {\n  return records.every(row => {\n    const rowKeys = Object.keys(row).map(s => s.toLowerCase());\n    return ['final_grade'].every(k => rowKeys.includes(k));\n  });\n}","export const steps = [\n  {\n    title: 'Upload source',\n    content: 'First-content',\n  },\n  {\n    title: 'Configure relationships',\n    content: 'Second-content',\n  },\n  {\n    title: 'Train models',\n    content: 'Last-content',\n  },\n  {\n    title: 'Done!',\n    content: 'Last-content',\n  },\n]","import {Tile, TileEntry} from \"../../../../../../../../../models/app/Tile\";\n\nexport const getTileOptions = (tile: Tile, entries: TileEntry[]) => {\n  if (tile.content === \"BINARY\") {\n    return {\n      label: tile.title, value: tile.id\n    }\n  }\n\n  return {\n    label: tile.title, value: tile.id,\n    children: entries.filter(e => e.tile_id === tile.id).map(e => ({\n      label: e.title, value: e.id\n    }))\n  }\n}\n\nexport const getOptions = (tiles: Tile[], entries: TileEntry[]) => {\n  return tiles\n    .filter(t => (t.content !== \"PREDICTION\") && (t.content !== \"LEARNING_OUTCOMES\"))\n    .map(t => getTileOptions(t, entries))\n}","import React, { Component } from \"react\";\nimport {Badge, Cascader, Col, Row, Select} from \"antd\";\nimport {RootState} from \"../../../../../../../../../store\";\nimport {connect, ConnectedProps} from \"react-redux\";\nimport {getOptions} from \"./helpers\";\nimport {RelationshipRegistry} from \"../../../../../../../../../models/app/GradePredictor\";\nimport \"./style.scss\";\nimport TileController from \"../../../../../../../../../api/controllers/tile\";\n\ntype IProps = {\n  _key: string;\n  data: any[];\n  registry: RelationshipRegistry | undefined;\n  setEntry: (key: string, tile_id: number, entry_id: number) => any;\n  setMetaKey: (key: string, entry_id: number, meta_key: string) => any;\n}\n\nconst mapState = (state: RootState) => ({\n  tiles: state.tiles,\n  tileEntries: state.tileEntries,\n});\n\nconst connector = connect(mapState)\ntype PropsFromRedux = ConnectedProps<typeof connector>\ntype Props = IProps & PropsFromRedux;\n\nclass RelationMapper extends Component<Props> {\n\n  state = {\n    loading: false,\n    metaKeys: []\n  }\n\n  componentDidMount(): void {\n    this.loadMetaKeys(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Readonly<Props>, nextContext: any): void {\n    if (nextProps.registry?.entry_id !== this.props.registry?.entry_id) {\n      this.loadMetaKeys(nextProps);\n    }\n  }\n\n  loadMetaKeys = ({ registry }: Props) => {\n    if (!registry) return;\n    if (!registry.entry_id) return;\n\n    this.setState({ loading: true }, () => {\n      TileController.getTileEntriesMetaKeys(registry.entry_id).then(metaKeys => {\n        this.setState({ metaKeys, loading: false });\n      });\n    });\n  }\n\n  getValue = () => {\n    const { registry } = this.props;\n    if (!registry) return undefined;\n\n    if (registry.entry_id < 0) {\n      return [registry.tile_id];\n    }\n    return [registry.tile_id, registry.entry_id];\n  }\n\n  isValidKey = (key: string) => {\n    const { data } = this.props;\n    if (data.length === 0) return false;\n\n    return data.filter(row => row[key]).every(row => {\n      return /^[1-9]\\d{0,2}(\\.\\d{3})*(,\\d+)?$/.test(row[key]);\n    })\n  }\n\n  render(): React.ReactNode {\n    const { registry, tiles, tileEntries, _key } = this.props;\n    const { loading, metaKeys } = this.state;\n\n    return (\n      <div className={\"relationship\"}>\n        <Row gutter={[10, 20]}>\n          <Col xs={12}>\n            <span>Source key</span>\n            <h3><strong>{ _key }</strong></h3>\n          </Col>\n          <Col xs={12}>\n            <span>Tile Entry</span>\n            <br />\n            <Cascader options={getOptions(tiles, tileEntries)}\n                      value={this.getValue()}\n                      disabled={!this.isValidKey(_key)}\n                      style={{width: '100%'}}\n                      onChange={(val, _) => {\n                        if (val.length === 2) {\n                          this.props.setEntry(_key, val[0] as number, val[1] as number);\n                        } else if (val.length === 1) {\n                          this.props.setEntry(_key, val[0] as number, -1);\n                        }\n                      }}\n                      size={\"large\"}\n                      placeholder={\"Select tile entry\"} />\n          </Col>\n          <Col xs={12}>\n            <span>Status</span>\n            <br/>\n            <Badge status={this.isValidKey(_key) ? \"success\" : \"error\"}\n                   text={this.isValidKey(_key) ?\n                       \"Data suitable for model\" :\n                       \"Non-numeric data!\"} />\n          </Col>\n          <Col xs={12}>\n            <span>Meta property</span>\n            <br />\n            <Select disabled={(registry?.tile_id ?\n                      tiles.find(t => t.id === registry.tile_id)!.type !== \"EXTERNAL_DATA\" : true)}\n                    style={{width: '100%'}}\n                    defaultValue={registry ? registry.meta_key : \"grade\"}\n                    loading={loading}\n                    value={registry ? registry.meta_key : undefined}\n                    size={\"large\"}\n                    onChange={(val, _) => {\n                      // input should be disabled if registry does not exist\n                      if (registry) {\n                        this.props.setMetaKey(registry?.source_key, registry?.entry_id, val);\n                      }\n                    }}\n                    options={[\n                      { value: 'grade', label: 'Grade (default)' },\n                      ...metaKeys.map(k => ({ value: k, label: k }))\n            ]} />\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default connector(RelationMapper);","import React, { Component } from \"react\";\nimport RelationMapper from \"./RelationMapper\";\nimport { RelationshipRegistry } from \"../../../../../../../../models/app/GradePredictor\";\nimport { Button, Divider } from \"antd\";\n\ntype IProps = {\n    data: any[];\n    registry: RelationshipRegistry[];\n    setRegistry: (data: RelationshipRegistry[]) => any;\n    nextStep: () => any;\n}\n\nexport default class Relationships extends Component<IProps> {\n\n    getKeysFromSource = () => {\n        const { data } = this.props;\n        let keys = new Set(...data.map(x => Object.keys(x)));\n        keys.delete(\"final_grade\");\n\n        return Array.from(keys).filter(k => k.length > 0);\n    }\n\n    setEntry = (source_key: string, tile_id: number, entry_id: number) => {\n        let registry: RelationshipRegistry[] = JSON.parse(JSON.stringify(this.props.registry));\n        const idx = registry.findIndex(r => r.source_key === source_key);\n\n        if (idx >= 0) {\n            registry[idx].tile_id = tile_id;\n            registry[idx].entry_id = entry_id;\n            registry[idx].meta_key = \"grade\";\n            this.props.setRegistry(registry);\n        } else {\n            this.props.setRegistry([...registry, {\n                tile_id, entry_id, source_key, meta_key: \"grade\"\n            }])\n        }\n    }\n\n    setMetaKey = (source_key: string, entry_id: number, meta_key: string) => {\n        let registry: RelationshipRegistry[] =\n            JSON.parse(JSON.stringify(this.props.registry));\n        const idx = registry.findIndex(r => r.source_key === source_key && r.entry_id === entry_id);\n\n        if (idx >= 0) {\n            registry[idx].meta_key = meta_key;\n            this.props.setRegistry(registry);\n        }\n    }\n\n    render(): React.ReactNode {\n        const { registry, data } = this.props;\n        return (\n            <div id={\"relationships\"}>\n                <h2>Step 2. Establish relationships</h2>\n                { this.getKeysFromSource().sort().map(k =>\n                    <div>\n                        <RelationMapper registry={registry.find(r => r.source_key === k)}\n                            setEntry={this.setEntry}\n                            setMetaKey={this.setMetaKey}\n                            _key={k}\n                            data={data}\n                        />\n                    </div>\n                )}\n                <Divider />\n\n                { registry.length < 4 &&\n                    <div style={{ padding: '10px 0' }}>\n                        <strong>You must provide at least four components!</strong>\n                    </div>\n                }\n\n                <Button onClick={this.props.nextStep} disabled={registry.length < 4}>\n                    Train models\n        </Button>\n            </div>\n        )\n    }\n}\n","import {RelationshipRegistry} from \"../../../../../../../../models/app/GradePredictor\";\nimport MLR from \"ml-regression-multivariate-linear\";\n\nconst compute = require( 'compute.io' );\n\nexport const getRegistryCombinations = (registry: RelationshipRegistry[]): RelationshipRegistry[][] => {\n\n  let results = [];\n  const n = registry.length;\n\n  for (let r = 3; r <= n; r ++) {\n    let a: number[] = [];\n\n    for (let i = 0; i < r; i++) {\n      a[i] = i;\n    }\n\n    let i = r - 1;\n    while (a[0] < n - r + 1) {\n      while (i > 0 && a[i] === n - r + i) i--;\n\n      results.push(JSON.parse(JSON.stringify(a.map(idx => registry[idx]))));\n      a[i]++;\n\n      while (i < r - 1) {\n        a[i + 1] = a[i] + 1;\n        i++;\n      }\n    }\n  }\n\n  return results;\n}\n\nexport const splitData = (data: number[][], testSize: number = 0.2) => {\n  const X: any[] = data.map(r => r.slice(0, r.length - 1));\n  const X_t = X;\n  const y = data.map(r => r[r.length - 1]);\n  //console.log(data, X, data.map(r => r[r.length - 1]));\n  const splitIdx = Math.round((1 - testSize) * data.length);\n  const xTest = X_t.slice(splitIdx, data.length);\n  const xTrain = X_t.slice(0, splitIdx);\n  const yTest = y.slice(splitIdx, data.length);\n  const yTrain = y.slice(0, splitIdx);\n  return [xTrain, xTest, yTrain, yTest]\n}\n\nexport const trainLinearModel = async ( xTrain: number[][],\n                                        yTrain: number[],\n                                        xTest: number[][],\n                                        yTest: number[]): Promise<{ model: MLR, mse: number }> => {\n  const model = new MLR(xTrain, yTrain.map(x => [x]));\n\n  let errors: number[] = [];\n  xTest.forEach((x, i) => {\n    errors.push(Math.pow(model.predict(x)[0] - yTest[i], 2));\n  })\n\n  // compute Mean Square Error\n  const mse = Math.round(compute.mean(errors) * 1000) / 1000;\n  return Promise.resolve({ model, mse });\n}\n\n\nexport const createCollectionKey = (registry: RelationshipRegistry[]) => {\n  const key = registry.map(r => {\n    if (r.entry_id > 0) {\n      return `${r.tile_id}-${r.entry_id}`;\n    }\n\n    return r.tile_id;\n  }).sort();\n\n  return key.join('#');\n}","import React, { Component } from 'react';\nimport { Button, Col, Divider, Row, Spin } from \"antd\";\nimport { IProps } from \"./types\";\nimport { createCollectionKey, getRegistryCombinations, splitData, trainLinearModel } from \"./helpers\";\nimport { PredictiveModel } from \"../../../../../../../../models/app/PredictiveModel\";\n\nexport default class TrainModels extends Component<IProps> {\n\n    state = {\n        isTraining: false\n    }\n\n    _getValueFromData = (key: string, row: any) => {\n        const column = row[key];\n        if (!column)\n            return NaN;\n\n        if (typeof column == 'number')\n            return column;\n\n        return parseFloat(column.replace(/,/, '.'));\n    }\n\n    trainModels = () => {\n        this.setState({ isTraining: true }, async () => {\n            setTimeout(async () => {\n                const { registry, data } = this.props;\n                let combinations = getRegistryCombinations(registry);\n                console.log(\"COMBINATIONS\", combinations);\n                console.log(\"registry\", registry);\n                let models: PredictiveModel[] = [];\n\n                for (const combination of combinations) {\n                    // last column is the y output....\n                    const trainData = data.map(row =>\n                        [...combination.map(c => this._getValueFromData(c.source_key, row)),\n                        this._getValueFromData('final_grade', row)\n                        ]\n                    ).filter(row => row.every(x => !Number.isNaN(x)));\n\n                    const [xTrain, xTest, yTrain, yTest] = splitData(trainData);\n\n                    await trainLinearModel(xTrain, yTrain, xTest, yTest).then(({ model, mse }) => {\n\n                        const predModel: PredictiveModel = {\n                            id: -1,\n                            course_id: -1,\n                            entry_collection: createCollectionKey(combination),\n                            mse,\n                            theta: [\n                                ...combination.map((c, i) => ({\n                                    tile_id: c.tile_id,\n                                    entry_id: c.entry_id,\n                                    intercept: false,\n                                    meta_key: c.meta_key,\n                                    value: model.weights[i][0]\n                                })),\n                                {\n                                    tile_id: null,\n                                    entry_id: null,\n                                    intercept: true,\n                                    meta_key: \"grade\",\n                                    value: model.weights[model.weights.length - 1][0]\n                                }\n                            ]\n                        }\n                        models.push(predModel);\n                    });\n                }\n\n                this.props.setModels(models);\n            }, 200);\n        });\n    }\n\n    render(): React.ReactNode {\n        const { isTraining } = this.state;\n        return (\n            <div id={\"trainModels\"}>\n                <h2>Step 3. Training the models</h2>\n\n                <Divider />\n\n                <Row gutter={[10, 10]}>\n                    <Col xs={24}>\n                        {isTraining &&\n                            <div style={{ textAlign: 'center', padding: '20px 0' }}>\n                                <Spin />\n                                <h3>Training models...</h3>\n                            </div>\n                        }\n\n                        {!isTraining &&\n                            <div style={{ textAlign: 'center', padding: '20px 0' }}>\n                                <div style={{\n                                    background: 'url(/assets/img/illustrations/train_models.svg)',\n                                    marginBottom: 30,\n                                    height: 200,\n                                    width: '100%',\n                                    backgroundSize: 'contain',\n                                    backgroundPosition: 'center',\n                                    backgroundRepeat: 'no-repeat'\n                                }} />\n                                <Button\n                                    type={\"primary\"}\n                                    size={\"large\"}\n                                    onClick={() => this.trainModels()}>\n                                    Start Training\n                                </Button>\n                            </div>\n                        }\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { Button, Result } from \"antd\";\nimport { PredictiveModel } from \"../../../../../../../../models/app/PredictiveModel\";\n\ntype IProps = {\n    models: PredictiveModel[];\n    closePanel: () => any;\n}\n\nexport default class UploadOverview extends Component<IProps> {\n    render(): React.ReactNode {\n        const { models, closePanel } = this.props;\n\n        return (\n            <div id={\"uploadOverview\"}>\n                <Result\n                    status=\"success\"\n                    title=\"Predictive models configured!\"\n                    subTitle={`In total ${models.length} models were trained, the equivalent of every possible submission combination with a minimum size of three. You can view a summary by closing this panel.`}\n                    extra={\n                        <Button onClick={closePanel}>\n                            Close\n                        </Button>\n                    }\n                />\n            </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport DataSourceUpload from \"./steps/DataSourceUpload\";\nimport { Alert, Button, message, Steps } from \"antd\";\nimport { steps } from \"./helpers\";\nimport Relationships from \"./steps/Relationships\";\nimport TrainModels from \"./steps/TrainModels\";\nimport UploadOverview from \"./steps/UploadOverview\";\nimport { PredictiveModel } from \"../../../../../../models/app/PredictiveModel\";\nimport \"./style.scss\";\nimport DataMartController from \"../../../../../../api/controllers/datamart\";\nimport Loading from \"../../../../../../components/utils/Loading\";\n\nexport default class ConfigureModel extends Component<{ setModels: (models: PredictiveModel[]) => any }> {\n\n    state = {\n        currentStep: 0,\n        data: [],\n        registry: [],\n        models: [],\n        loaded: false\n    };\n\n    componentDidMount(): void {\n        DataMartController.getModels().then(models => {\n            this.setState({ models, loaded: true });\n        });\n    }\n\n    setData = (data: any[]) => {\n        this.setState({ data, currentStep: 1 });\n    }\n\n    setModels = (models: PredictiveModel[]) => {\n        let modelsCopy = JSON.parse(JSON.stringify(models));\n        DataMartController.deleteModels().then(async () => {\n            while (modelsCopy.length > 0) {\n                message.loading({\n                    content: `Upload progression: ${Math.round(((models.length - modelsCopy.length) / models.length) * 100)}%`,\n                    key: 'uploadProgress'\n                });\n                // const batch = modelsCopy.splice(0, 50);\n                /* await DataMartController.uploadModels(batch); */\n            }\n\n            const newModels = await DataMartController.getModels();\n            message.success({ content: 'Upload complete!', key: 'uploadProgress', duration: 2 });\n            this.setState({ currentStep: 3, models: newModels });\n        });\n    }\n\n    renderStep = () => {\n        const { currentStep, data, registry, models } = this.state;\n        switch (currentStep) {\n            default:\n            case 0:\n                return <DataSourceUpload\n                    setData={this.setData} />;\n            case 1:\n                return <Relationships\n                    setRegistry={registry => {\n                        // TODO: remove\n                        //localStorage.setItem(\"data\", JSON.stringify(data));\n                        //localStorage.setItem(\"registry\", JSON.stringify(registry));\n                        this.setState({ registry })\n                    }}\n                    registry={registry}\n                    data={data}\n                    nextStep={this.nextStep} />;\n            case 2:\n                return <TrainModels\n                    data={data}\n                    registry={registry}\n                    setModels={this.setModels} />;\n            case 3:\n                return <UploadOverview\n                    models={models}\n                    closePanel={() => this.props.setModels(models)} />;\n        }\n    }\n\n    nextStep = () => {\n        const { currentStep } = this.state;\n        this.setState({ currentStep: Math.min(steps.length - 1, currentStep + 1) });\n    }\n\n    previousStep = () => {\n        const { currentStep } = this.state;\n        if (currentStep <= 0)\n            return;\n        this.setState({ currentStep: Math.max(0, currentStep - 1) });\n    }\n\n    render(): React.ReactNode {\n        const { currentStep, loaded } = this.state;\n\n        if (!loaded) return <Loading small={true} />\n\n        return (\n            <div id={\"configureModel\"}>\n                <Alert\n                    message=\"Notice\"\n                    description=\"Do not close this view whilst configuring or training models!\"\n                    type=\"warning\"\n                    showIcon closable\n                    style={{ marginBottom: 10 }}\n                />\n\n                <Steps current={currentStep}>\n                    {steps.map(s => <Steps.Step key={s.title} title={s.title} />)}\n                </Steps>\n                <div className=\"stepsContent\">\n                    {this.renderStep()}\n                </div>\n                <div className=\"stepsAction\">\n                    {currentStep < steps.length - 1 && (\n                        <Button\n                            type=\"primary\"\n                            onClick={this.nextStep}>\n                            Next\n                        </Button>\n                    )}\n                    {currentStep === steps.length - 1 && (\n                        <Button\n                            type=\"primary\"\n                            onClick={() => message.success('Processing complete!')}>\n                            Done\n                        </Button>\n                    )}\n                    {currentStep > 0 && (\n                        <Button\n                            style={{ margin: '0 8px' }}\n                            onClick={this.previousStep}>\n                            Previous\n                        </Button>\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\n","import React, {Component} from 'react';\nimport { Group } from '@vx/group';\nimport { BoxPlot } from '@vx/stats';\nimport { LinearGradient } from '@vx/gradient';\nimport { scaleBand, scaleLinear } from '@vx/scale';\nimport { withTooltip, Tooltip, defaultStyles as defaultTooltipStyles } from '@vx/tooltip';\nimport { PatternLines } from '@vx/pattern';\nimport {PredictiveModel} from \"../../../../../../models/app/PredictiveModel\";\n\nconst compute = require( 'compute.io' );\n\n// accessors\nconst quantile = (arr: number[], q: number) => {\n  const sorted = arr.sort();\n  const pos = (sorted.length - 1) * q;\n  const base = Math.floor(pos);\n  const rest = pos - base;\n  if (sorted[base + 1] !== undefined) {\n    return sorted[base] + rest * (sorted[base + 1] - sorted[base]);\n  } else {\n    return sorted[base];\n  }\n};\n\nconst _round = (num: number) => num; //Math.round((num * 1000)) / 1000;\nconst thetas = (model: PredictiveModel) => model.entry_collection.split('#').length + 1;\nconst min = (models: PredictiveModel[]) => _round(Math.min(...models.map(m => m.mse)));\nconst max = (models: PredictiveModel[]) => _round(Math.max(...models.map(m => m.mse)));\nconst median = (models: PredictiveModel[]) => compute.median(models.map(m => _round(m.mse)));\nconst firstQuartile = (models: PredictiveModel[]) => quantile(models.map(m => _round(m.mse)), .25);\nconst thirdQuartile = (models: PredictiveModel[]) => quantile(models.map(m => _round(m.mse)), .75);\n\ninterface TooltipData {\n  name?: string;\n  min?: number;\n  median?: number;\n  max?: number;\n  firstQuartile?: number;\n  thirdQuartile?: number;\n}\n\nclass ModelResults extends Component<any, TooltipData> {\n\n  render(): React.ReactNode {\n    const {\n      models,\n      width,\n      height,\n      tooltipOpen,\n      tooltipLeft,\n      tooltipTop,\n      tooltipData,\n      showTooltip,\n      hideTooltip,\n    } = this.props;\n\n    // bounds\n    const xMax = width;\n    const yMax = height - 120;\n\n    // scales\n    const xScale = scaleBand<string>({\n      range: [0, xMax],\n      round: true,\n      domain: models.map(thetas),\n      padding: 0.4,\n    });\n\n    const allValues = models.map((m: PredictiveModel) => Math.round((m.mse * 1000)) / 1000)\n\n    const minYValue = Math.min(...allValues);\n    const maxYValue = Math.max(...allValues);\n\n    const yScale = scaleLinear<number>({\n      range: [yMax, 0],\n      round: true,\n      domain: [minYValue, maxYValue],\n    });\n\n    const boxWidth = xScale.bandwidth();\n    const constrainedWidth = Math.min(40, boxWidth);\n\n    const groupBy = (items: PredictiveModel[]) => items.reduce(\n      (result: any, item) => ({\n        ...result,\n        [thetas(item)]: [\n          ...(result[thetas(item)] || []),\n          item,\n        ],\n      }),\n      {},\n    );\n\n    const groupedModels: PredictiveModel[][] = Object.values(groupBy(models));\n\n    return width < 10 ? null : (\n      <div style={{ position: 'relative' }}>\n        <h4>Mean Square Error</h4>\n        <svg width={width} height={height}>\n          <LinearGradient id=\"statsplot\" to=\"#8b6ce7\" from=\"#87f2d4\" />\n          <rect x={0} y={0} width={width} height={height} fill=\"url(#statsplot)\" rx={14} />\n          <PatternLines\n            id=\"hViolinLines\"\n            height={3}\n            width={3}\n            stroke=\"#ced4da\"\n            strokeWidth={1}\n            //fill=\"rgba(0,0,0,0.3)\"\n            orientation={['horizontal']}\n          />\n          <Group top={40}>\n            {groupedModels.map((d: PredictiveModel[], i: number) => (\n              <g key={i}>\n                <BoxPlot\n                  min={Math.max(min(d), 0.001)}\n                  max={max(d)}\n                  left={xScale(thetas(d[0]).toString())! + 0.3 * constrainedWidth}\n                  firstQuartile={Math.max(firstQuartile(d), 0.001)}\n                  thirdQuartile={thirdQuartile(d)}\n                  median={median(d)}\n                  boxWidth={constrainedWidth * 0.4}\n                  fill=\"#FFFFFF\"\n                  fillOpacity={0.3}\n                  stroke=\"#FFFFFF\"\n                  strokeWidth={2}\n                  valueScale={yScale}\n                  //outliers={outliers(d)}\n                  boxProps={{\n                    onMouseOver: () => {\n                      showTooltip({\n                        tooltipTop: yScale(median(d))! + 40,\n                        tooltipLeft: xScale(thetas(d[0]).toString())! + constrainedWidth + 5,\n                        tooltipData: {\n                          max: max(d),\n                          median: median(d),\n                          min: min(d),\n                          firstQuartile: firstQuartile(d),\n                          thirdQuartile: thirdQuartile(d),\n                          models: d.length.toString(),\n                          name: `${thetas(d[0])} gradable components`,\n                        },\n                      });\n                    },\n                    onMouseLeave: () => {\n                      hideTooltip();\n                    },\n                  }}\n                />\n              </g>\n            ))}\n          </Group>\n        </svg>\n\n        {tooltipOpen && tooltipData && (\n          <Tooltip\n            top={tooltipTop}\n            left={tooltipLeft}\n            style={{ ...defaultTooltipStyles, backgroundColor: '#283238', color: 'white' }}\n          >\n            <div>\n              <strong>{tooltipData.name}</strong>\n            </div>\n            <div style={{ marginTop: '5px', fontSize: '12px' }}>\n              {<div>max: {_round(tooltipData.max)}</div>}\n              {<div>third quartile: {_round(tooltipData.thirdQuartile)}</div>}\n              {<div>median: {_round(tooltipData.median)}</div>}\n              {<div>first quartile: {_round(tooltipData.firstQuartile)}</div>}\n              {<div>min: {_round(tooltipData.min).toString()}</div>}\n              {<div>models: {_round(tooltipData.models)}</div>}\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withTooltip(ModelResults);","import React, { Component } from \"react\";\nimport Admin from \"../../../index\";\nimport { Divider } from \"antd\";\nimport { IProps, IState } from \"./types\";\nimport ConfigureModel from \"./ConfigureModel\";\nimport Loading from \"../../../../../components/utils/Loading\";\nimport ModelResults from \"./ModelResults\";\nimport { ParentSize } from '@visx/responsive';\nimport DataMartController from \"../../../../../api/controllers/datamart\";\n\nexport default class GradePredictorOld extends Component<IProps, IState> {\n\n    state = {\n        loaded: false,\n        models: [],\n        isConfiguringModel: false\n    }\n\n    componentDidMount(): void {\n        DataMartController.getModels().then(models => {\n            this.setState({ models, loaded: true });\n        });\n    }\n\n    render(): React.ReactNode {\n        const { models, loaded, isConfiguringModel } = this.state;\n\n        if (!loaded)\n            return <Loading small={false} />;\n\n        return <Admin menuKey={\"gradePredictorOld\"}>\n            <h1>Grade Predictor</h1>\n            <span onClick={() => this.setState({ isConfiguringModel: true })}>\n                Configure a predictive model\n            </span>\n\n            <Divider />\n\n            {(!isConfiguringModel && models.length > 0) &&\n                <ParentSize>\n                    {parent =>\n                        <ModelResults\n                            models={models}\n                            width={parent.width}\n                            height={500} />}\n                </ParentSize>\n            }\n            {(isConfiguringModel || models.length === 0) &&\n                <ConfigureModel setModels={(models) => this.setState({ models, isConfiguringModel: false })} />\n            }\n        </Admin>\n    }\n}\n"],"names":["connector","connect","state","user","AdminMenu","this","props","id","name","UserOutlined","selectedKeys","menuKey","icon","DatabaseOutlined","to","AppstoreOutlined","LaptopOutlined","TeamOutlined","TrophyOutlined","title","FundProjectionScreenOutlined","DotChartOutlined","CloudUploadOutlined","NotificationOutlined","ControlOutlined","Component","Admin","isAdmin","AdminHeader","xs","className","children","withAdminRole","DemoAnimation","offset","setTimeout","setState","width","height","x","y","fill","DataSourceUpload","md","message","style","inputId","inputStyle","display","onFileLoaded","records","every","row","rowKeys","Object","keys","map","s","toLowerCase","k","includes","validateExternalUploadSchema","setData","onError","parserOptions","header","dynamicTyping","skipEmptyLines","transformHeader","replace","steps","content","getOptions","tiles","entries","filter","t","tile","label","value","e","tile_id","getTileOptions","tileEntries","RelationMapper","loading","metaKeys","loadMetaKeys","registry","entry_id","TileController","then","getValue","isValidKey","key","data","length","test","nextProps","nextContext","_key","gutter","options","disabled","onChange","val","_","setEntry","size","placeholder","status","text","find","type","defaultValue","meta_key","undefined","setMetaKey","source_key","Relationships","getKeysFromSource","Set","delete","Array","from","JSON","parse","stringify","idx","findIndex","r","setRegistry","sort","padding","onClick","nextStep","compute","require","getRegistryCombinations","results","n","a","i","push","splitData","testSize","X_t","slice","splitIdx","Math","round","xTest","xTrain","yTest","trainLinearModel","yTrain","model","MLR","errors","forEach","pow","predict","mse","mean","Promise","resolve","createCollectionKey","join","TrainModels","isTraining","_getValueFromData","column","parseFloat","NaN","trainModels","combinations","console","log","models","combination","trainData","c","Number","isNaN","predModel","course_id","entry_collection","theta","intercept","weights","setModels","textAlign","background","marginBottom","backgroundSize","backgroundPosition","backgroundRepeat","UploadOverview","closePanel","subTitle","extra","ConfigureModel","currentStep","loaded","modelsCopy","DataMartController","newModels","duration","renderStep","min","previousStep","max","description","showIcon","closable","current","Step","margin","Loading","small","quantile","arr","q","sorted","pos","base","floor","rest","thetas","split","m","median","firstQuartile","thirdQuartile","ModelResults","tooltipOpen","tooltipLeft","tooltipTop","tooltipData","showTooltip","hideTooltip","xMax","yMax","xScale","scaleBand","range","domain","allValues","minYValue","maxYValue","yScale","scaleLinear","boxWidth","bandwidth","constrainedWidth","groupedModels","values","reduce","result","item","position","LinearGradient","rx","stroke","strokeWidth","orientation","Group","top","d","BoxPlot","left","toString","fillOpacity","valueScale","boxProps","onMouseOver","onMouseLeave","Tooltip","defaultTooltipStyles","backgroundColor","color","marginTop","fontSize","withTooltip","GradePredictorOld","isConfiguringModel","ParentSize","parent"],"sourceRoot":""}