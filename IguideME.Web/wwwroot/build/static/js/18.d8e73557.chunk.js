(this.webpackJsonpiguideme=this.webpackJsonpiguideme||[]).push([[18],{190:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n(10),i=n(11),l=n(12),c=n(2),o=n(17),s=n(78),u=n(7),d=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,null,[{key:"getStudents",value:function(){return Object(c.a)()?Object(u.a)(s.a):this.client.get("students").then((function(e){return e.data}))}}]),n}(o.a)},194:function(e,t,n){"use strict";var a=n(63),r=n(6),i=n(10),l=n(11),c=n(12),o=n(0),s=n.n(o),u=n(213),d=n(374),m=n(76),p=n(997),h=n(62),E=n(190),b=n(2),f=n(49),v=(n(195),Object(f.b)((function(e){return{course:e.course,user:e.user}}))),g=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={loaded:!1,students:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.studentPickView&&E.a.getStudents().then((function(t){return e.setState({students:t,loaded:!0})})),this.setState({loaded:!0})}},{key:"renderInner",value:function(){var e=this;if(this.props.studentPickView){var t=this.state,n=t.students,r=t.loaded;return s.a.createElement(u.a,{id:"studentPicker",isLoading:!r,options:n.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return{label:e.name,value:e.login_id}})),placeholder:"Choose a student",onChange:function(t){return e.props.setStudent(t?n.find((function(e){return e.login_id===t.value})):null)},isClearable:!0,styles:{control:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{backgroundColor:"transparent",color:"white",border:"1px solid white"})},singleValue:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{color:"white"})}}})}return s.a.createElement("div",{id:"inner"},s.a.createElement("h2",null,this.props.course?this.props.course.course_name:"Loading course..."))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"adminHeader"},this.props.studentPickView?s.a.createElement(h.b,{to:"/admin",style:{float:"right"}},s.a.createElement("h3",null,"Admin Panel")):s.a.createElement("div",{style:{float:"right",padding:20}},s.a.createElement(d.a,{title:"Reload data"},s.a.createElement(m.a,{id:"reload",shape:"circle",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",color:"white"},icon:s.a.createElement(p.a,null)}))),s.a.createElement("div",{id:"navbarContent"},s.a.createElement("div",{id:"brand"},s.a.createElement(h.b,{to:"/"},s.a.createElement("h1",null,"IGuideME"))),this.renderInner())),Object(b.a)()&&s.a.createElement("div",{id:"debugNotice"},"Application is running in ",s.a.createElement("strong",null,"demo")," mode. Changes will not be saved!"))}}]),n}(o.Component);t.a=v(g)},195:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){"use strict";var a=n(6),r=n(10),i=n(11),l=n(12),c=n(0),o=n.n(c),s=n(79),u=n(194),d=n(14),m=n(995),p=n(996),h=n(1e3),E=n(1001),b=n(999),f=n(1002),v=n(1003),g=n(998),C=n(1004),y=n(1005),O=n(1006),S=n(1007),j=n(1008),k=n(1009),w=n(267),z=n(62),x=(n(202),n(49)),I=Object(x.b)((function(e){return{user:e.user}}))(function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.user;return o.a.createElement("div",{id:"adminMenu"},o.a.createElement("div",{id:"user"},o.a.createElement("h3",null,e?e.name:"Loading profile..."),o.a.createElement("strong",null,o.a.createElement(h.a,null)," Instructor")),o.a.createElement(w.a,{selectedKeys:[this.props.menuKey]},o.a.createElement(w.a.Item,{key:"datamart",icon:o.a.createElement(E.a,null)},o.a.createElement(z.b,{to:"/admin"},"Datamart")),o.a.createElement(w.a.Item,{key:"tiles",icon:o.a.createElement(b.a,null)},o.a.createElement(z.b,{to:"/admin/tiles"},"Tiles")),o.a.createElement(w.a.Item,{key:"dashboard",icon:o.a.createElement(f.a,null)},o.a.createElement(z.b,{to:"/admin/dashboard"},"Dashboard")),o.a.createElement(w.a.Item,{key:"studentOverview",icon:o.a.createElement(v.a,null)},o.a.createElement(z.b,{to:"/admin/student-overview"},"Student Overview")),o.a.createElement(w.a.SubMenu,{key:"submenu",icon:o.a.createElement(g.a,null),title:"Grades"},o.a.createElement(w.a.Item,{key:"gradePredictor",icon:o.a.createElement(C.a,null)},o.a.createElement(z.b,{to:"/admin/grade-predictor"},"Predictor")),o.a.createElement(w.a.Item,{key:"gradeAnalyzer",icon:o.a.createElement(y.a,null)},o.a.createElement(z.b,{to:"/admin/grade-analyzer"},"Analyzer"))),o.a.createElement(w.a.Item,{key:"dataWizard",icon:o.a.createElement(O.a,null)},o.a.createElement(z.b,{to:"/admin/data-wizard"},"Data Wizard")),o.a.createElement(w.a.Item,{key:"analytics",icon:o.a.createElement(S.a,null)},o.a.createElement(z.b,{to:"/admin/analytics"},"Analytics")),o.a.createElement(w.a.Item,{key:"notificationCentre",icon:o.a.createElement(j.a,null)},o.a.createElement(z.b,{to:"/notification-centre"},"Notification Centre")),o.a.createElement(w.a.Item,{key:"settings",icon:o.a.createElement(k.a,null)},o.a.createElement(z.b,{to:"/admin/settings"},"Settings"))))}}]),n}(c.Component)),_=(n(203),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAdmin,n=e.menuKey;return t?o.a.createElement("div",{id:"admin"},o.a.createElement(u.a,null),o.a.createElement(m.a,null,o.a.createElement(p.a,{xs:4},o.a.createElement(I,{menuKey:n})),o.a.createElement(p.a,{xs:20,id:"wrapper",className:"".concat("settings"!==n&&"noOverflow")},this.props.children))):o.a.createElement(d.a,{to:"/"})}}]),n}(c.Component));t.a=Object(s.a)(_)},950:function(e,t,n){},951:function(e,t,n){},992:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return $}));var a=n(6),r=n(10),i=n(11),l=n(12),c=n(0),o=n.n(c),s=n(204),u=n(301),d=n(181),m=n(374),p=n(685),h=n(289),E=n(199),b=n(229),f=n(908),v=n.n(f),g=n(929),C=n.n(g),y=n(937),O=n.n(y),S=n(676),j=(n(948),n(949),n(950),n(961)),k=n(955),w=n(119),z=n(177),x=n(76),I=n(683),_=n(36),A=n(94),B=n(49),T=n(57),P=v()(),L=C()(),M=P.Toolbar,D={loadCourse:function(){return A.a.loadCourse()}},N=Object(B.b)((function(e){return{course:e.course}}),D)(function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={doneLoading:!1,editorState:void 0,initialState:void 0,hasChanged:!1,saving:!1},e.isUpToDate=function(){if(!e.state.editorState||!e.state.doneLoading)return!1;var t=e.state.editorState;return Object(j.a)(t.getCurrentContent()).toString().trim()===e.state.initialState},e.updateState=function(t){e.setState({editorState:t,hasChanged:!0})},e.save=function(){var t=e.props.course;e.setState({saving:!0},(function(){var n=e.state.editorState,a=Object(j.a)(n.getCurrentContent());T.a.updateConsent(t.require_consent,a).then((function(){e.props.loadCourse().then((function(){e.setState({saving:!1,initialState:a},(function(){return z.b.success("Informed consent saved!")}))}))}))}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.course;t&&t.text&&t.text;setTimeout((function(){e.setState({doneLoading:!0,editorState:b.EditorState.createWithContent(Object(k.a)(t&&t.text?t.text:w.a)),initialState:Object(j.a)(Object(k.a)(t&&t.text?t.text:"")),hasChanged:!1})}),300)}},{key:"render",value:function(){var e=this;return this.state.doneLoading?o.a.createElement("div",{id:"consentEditor"},o.a.createElement("div",{id:"editorToolbar"},o.a.createElement(M,null,(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(S.BoldButton,t),o.a.createElement(S.ItalicButton,t),o.a.createElement(S.UnderlineButton,t),o.a.createElement(S.CodeButton,t),o.a.createElement(S.UnorderedListButton,t),o.a.createElement(S.HeadlineOneButton,t),o.a.createElement(S.HeadlineTwoButton,t),o.a.createElement(S.HeadlineThreeButton,t),o.a.createElement(S.OrderedListButton,t),o.a.createElement(S.BlockquoteButton,t),o.a.createElement(S.CodeBlockButton,t),o.a.createElement(x.a,{id:"save",type:"link",disabled:e.isUpToDate()||e.state.saving,onClick:e.save},e.state.saving?"Saving":"Save"))})),!this.state.initialState&&o.a.createElement(I.a,{message:"Consent can not be given because the informed consent is undefined. Provide the informed consent below",type:"error",showIcon:!0})),o.a.createElement("div",{id:"contentWrapper",className:"".concat(this.isUpToDate()&&"up-to-date"," ").concat(this.state.saving&&"saving")},o.a.createElement(O.a,{editorState:this.state.editorState,onChange:this.updateState,plugins:[P,L]}))):o.a.createElement(_.a,{small:!0})}}]),n}(c.Component)),G=n(258),q=n.n(G),V={loadCourse:function(){return A.a.loadCourse()}},W=Object(B.b)((function(e){return{course:e.course}}),V)(function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1},e.toggleConsentRequirement=function(){var t=e.props.course;t&&e.setState({loading:!0},(function(){T.a.updateConsent(!t.require_consent,t.text).then((function(){e.props.loadCourse().then((function(){e.setState({loading:!1})}))}))}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.course;return e?o.a.createElement("div",{id:"informedConsent"},o.a.createElement("h2",null,"Informed Consent"),o.a.createElement("div",{className:"primaryContainer"},o.a.createElement("span",null,o.a.createElement(m.a,{title:"Consent is mandatory!"},o.a.createElement(p.a,{checkedChildren:o.a.createElement(h.a,null),unCheckedChildren:o.a.createElement(E.a,null),onClick:this.toggleConsentRequirement,checked:e.require_consent||!0,disabled:!0,loading:this.state.loading})),"\xa0 When checked students are required to explicitly accept the informed consent. Students that did not grant consent won't be able to use the application and their data will be excluded."),o.a.createElement(u.a,null),e.require_consent&&o.a.createElement(q.a,null,o.a.createElement(N,null)))):o.a.createElement(_.a,{small:!0})}}]),n}(c.Component)),K=n(30),R=n(190),U=n(995),H=n(996),F=(n(951),n(234)),J=n.n(F),Q=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={loaded:!1,students:[],enabled:!1,accepted:[]},e.isAccepted=function(t){return e.state.accepted.includes(t)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;R.a.getStudents().then((function(t){return e.setState({students:t,loaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,a=t.students,r=t.enabled,i=t.accepted;return n?o.a.createElement("div",{id:"acceptList"},o.a.createElement("h2",null,"Accept List"),o.a.createElement("div",{className:"primaryContainer"},o.a.createElement("span",null,o.a.createElement(p.a,{checkedChildren:o.a.createElement(h.a,null),unCheckedChildren:o.a.createElement(E.a,null),checked:r,onChange:function(t){return e.setState({enabled:t})}}),"\xa0 If enabled only the students with explicit access may use the application. When disabled all enrolled students are able to use the application."),o.a.createElement(u.a,null),o.a.createElement("span",null,"Accepted: ",i.length," / ",a.length," ",o.a.createElement("small",null,"(",Math.round(i.length/a.length*100),"%)")),o.a.createElement("br",null),o.a.createElement(d.b,null,o.a.createElement(x.a,{disabled:!r},"Select all"),o.a.createElement(x.a,{disabled:!r},"Deselect all"),o.a.createElement(x.a,{disabled:!r,onClick:function(){J.a.fire({title:"Percentage of students to accept",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Randomize",showLoaderOnConfirm:!0,preConfirm:function(e){var t=parseInt(e);return t<10?J.a.showValidationMessage("The acceptance percentage must be above 10%!"):t>100?J.a.showValidationMessage("Percentages can't exceed 100%."):void 0},allowOutsideClick:function(){return!J.a.isLoading()}}).then((function(t){if(t.isConfirmed){var n=parseInt(t.value),r=Math.ceil(a.length*(n/100)),i=a.sort((function(){return.5-Math.random()})).slice(0,r);e.setState({accepted:i.map((function(e){return e.login_id}))}),J.a.fire("Task completed!","","success")}}))}},"Random assign"),o.a.createElement(x.a,{className:"successButtonStyle",disabled:!r},"Save")),o.a.createElement(u.a,null),o.a.createElement("div",{style:{opacity:r?1:.5}},o.a.createElement(U.a,null,a.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return o.a.createElement(H.a,{xs:12,md:8,lg:6,xl:4},o.a.createElement("div",{className:"student ".concat(e.isAccepted(t.login_id)&&"accepted"),onClick:function(){e.isAccepted(t.login_id)?e.setState({accepted:i.filter((function(e){return e!==t.login_id}))}):e.setState({accepted:[].concat(Object(K.a)(i),[t.login_id])})}},o.a.createElement("span",null,t.name),o.a.createElement("br",null),o.a.createElement("small",null,t.login_id)))})))))):o.a.createElement("div",{id:"acceptList"},o.a.createElement("h2",null,"Accept List"),o.a.createElement("div",{className:"primaryContainer"},o.a.createElement(_.a,{small:!0})))}}]),n}(c.Component),X=n(684),Y={loadCourse:function(){return A.a.loadCourse()}},Z=Object(B.b)((function(e){return{course:e.course}}),Y)(function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0,enabled:!1,size:0,inputSize:0,inputEnabled:!1,buttonText:"Save"},e.updatePeerGroups=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({loading:!0},(function(){T.a.updateCoursePeerGroup(e.state.inputSize,!!t||e.state.inputEnabled).then((function(t){e.setState({enabled:t.personalized_peers,inputEnabled:t.personalized_peers,size:t.min_size,inputSize:t.min_size,buttonText:"Saved"},(function(){setTimeout((function(){return e.setState({buttonText:"Save",loading:!1})}),1e3)}))}))}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},(function(){T.a.getCoursePeerGroups().then((function(t){e.setState({loading:!1,enabled:t.personalized_peers,inputEnabled:t.personalized_peers,size:t.min_size,inputSize:t.min_size})}))}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"peerGroups"},o.a.createElement("h2",null,"Peer Groups"),o.a.createElement("div",{className:"primaryContainer"},o.a.createElement(d.b,{direction:"vertical"},o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement(p.a,{checkedChildren:o.a.createElement(h.a,null),unCheckedChildren:o.a.createElement(E.a,null),onClick:function(){e.updatePeerGroups(!e.state.inputEnabled),e.setState({inputEnabled:!e.state.inputEnabled})},checked:this.state.inputEnabled,loading:this.state.loading}),"\xa0 Enable personalized peer groups.")),o.a.createElement("div",null,"Minimum group size: \xa0",o.a.createElement(X.a,{min:2,size:"large",value:this.state.inputSize,onChange:function(t){return e.setState({inputSize:t})},disabled:!this.state.enabled||this.state.loading})),o.a.createElement(x.a,{className:"successButtonStyle",onClick:function(){return e.updatePeerGroups()},loading:this.state.loading,disabled:this.state.loading},this.state.buttonText))))}}]),n}(c.Component)),$=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement(s.a,{menuKey:"settings"},o.a.createElement("h1",null,"Settings"),o.a.createElement(u.a,null),o.a.createElement(d.b,{direction:"vertical",style:{width:"100%"}},o.a.createElement(W,null),o.a.createElement(Q,null),o.a.createElement(Z,null)))}}]),n}(c.Component)}}]);
//# sourceMappingURL=18.d8e73557.chunk.js.map