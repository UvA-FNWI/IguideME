/*! For license information please see 19.48f320bc.chunk.js.LICENSE.txt */
(self.webpackChunkiguideme=self.webpackChunkiguideme||[]).push([[19],{90785:function(t,r,e){"use strict";e.d(r,{Z:function(){return j}});var o=e(87462),n=e(29439),i=e(4942),s=e(37557),a=e(68944),u=e(82621),c=e(11532),h=e(60732),f=e(10187),l=e(35796),v=e(83844),m=e(29966),p=e(81694),w=e.n(p),g=e(98568),d=e(72791),y=e(71929),b=e(69019),x=e(61113),M=e(15671),k=e(43144),E=e(60136),S=e(54062),N=function(t){(0,E.Z)(e,t);var r=(0,S.Z)(e);function e(){var t;return(0,M.Z)(this,e),(t=r.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},t}return(0,k.Z)(e,[{key:"componentDidCatch",value:function(t,r){this.setState({error:t,info:r})}},{key:"render",value:function(){var t=this.props,r=t.message,e=t.description,o=t.children,n=this.state,i=n.error,s=n.info,a=s&&s.componentStack?s.componentStack:null,u="undefined"===typeof r?(i||"").toString():r,c="undefined"===typeof e?a:e;return i?d.createElement(j,{type:"error",message:u,description:d.createElement("pre",null,c)}):o}}]),e}(d.Component),C=N,R=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]])}return e},I={success:s.Z,info:v.Z,error:u.Z,warning:f.Z},Z={success:a.Z,info:m.Z,error:c.Z,warning:l.Z},F=function(t){var r=t.description,e=t.icon,o=t.prefixCls,n=t.type,s=(r?Z:I)[n]||null;return e?(0,x.wm)(e,d.createElement("span",{className:"".concat(o,"-icon")},e),(function(){return{className:w()("".concat(o,"-icon"),(0,i.Z)({},e.props.className,e.props.className))}})):d.createElement(s,{className:"".concat(o,"-icon")})},T=function(t){var r=t.isClosable,e=t.closeText,o=t.prefixCls,n=t.closeIcon,i=t.handleClose;return r?d.createElement("button",{type:"button",onClick:i,className:"".concat(o,"-close-icon"),tabIndex:0},e?d.createElement("span",{className:"".concat(o,"-close-text")},e):n):null},P=function(t){var r,e=t.description,s=t.prefixCls,a=t.message,u=t.banner,c=t.className,f=void 0===c?"":c,l=t.style,v=t.onMouseEnter,m=t.onMouseLeave,p=t.onClick,x=t.afterClose,M=t.showIcon,k=t.closable,E=t.closeText,S=t.closeIcon,N=void 0===S?d.createElement(h.Z,null):S,C=t.action,I=R(t,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),Z=d.useState(!1),P=(0,n.Z)(Z,2),j=P[0],A=P[1],L=d.useRef(),O=d.useContext(y.E_),_=O.getPrefixCls,V=O.direction,q=_("alert",s),z=function(t){var r;A(!0),null===(r=I.onClose)||void 0===r||r.call(I,t)},D=!!E||k,G=function(){var t=I.type;return void 0!==t?t:u?"warning":"info"}(),U=!(!u||void 0!==M)||M,Y=w()(q,"".concat(q,"-").concat(G),(r={},(0,i.Z)(r,"".concat(q,"-with-description"),!!e),(0,i.Z)(r,"".concat(q,"-no-icon"),!U),(0,i.Z)(r,"".concat(q,"-banner"),!!u),(0,i.Z)(r,"".concat(q,"-rtl"),"rtl"===V),r),f),B=(0,b.Z)(I);return d.createElement(g.ZP,{visible:!j,motionName:"".concat(q,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(t){return{maxHeight:t.offsetHeight}},onLeaveEnd:x},(function(t){var r=t.className,n=t.style;return d.createElement("div",(0,o.Z)({ref:L,"data-show":!j,className:w()(Y,r),style:(0,o.Z)((0,o.Z)({},l),n),onMouseEnter:v,onMouseLeave:m,onClick:p,role:"alert"},B),U?d.createElement(F,{description:e,icon:I.icon,prefixCls:q,type:G}):null,d.createElement("div",{className:"".concat(q,"-content")},a?d.createElement("div",{className:"".concat(q,"-message")},a):null,e?d.createElement("div",{className:"".concat(q,"-description")},e):null),C?d.createElement("div",{className:"".concat(q,"-action")},C):null,d.createElement(T,{isClosable:!!D,closeText:E,prefixCls:q,closeIcon:N,handleClose:z}))}))};P.ErrorBoundary=C;var j=P},44091:function(t,r,e){"use strict";e.d(r,{Z:function(){return I}});var o=e(87462),n=e(4942),i=e(67575),s=e(60732),a=e(81694),u=e.n(a),c=e(1413),h=e(45987),f=e(15671),l=e(43144),v=e(97326),m=e(60136),p=e(54062),w=e(72791),g=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function d(t){return"string"===typeof t}var y=function(t){(0,m.Z)(e,t);var r=(0,p.Z)(e);function e(){var t;(0,f.Z)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r.call.apply(r,[this].concat(i)),(0,n.Z)((0,v.Z)(t),"onClick",(function(){var r=t.props,e=r.onClick,o=r.onStepClick,n=r.stepIndex;e&&e.apply(void 0,arguments),o(n)})),t}return(0,l.Z)(e,[{key:"renderIconNode",value:function(){var t,r,e=this.props,o=e.prefixCls,i=e.progressDot,s=e.stepIcon,a=e.stepNumber,c=e.status,h=e.title,f=e.description,l=e.icon,v=e.iconPrefix,m=e.icons,p=u()("".concat(o,"-icon"),"".concat(v,"icon"),(t={},(0,n.Z)(t,"".concat(v,"icon-").concat(l),l&&d(l)),(0,n.Z)(t,"".concat(v,"icon-check"),!l&&"finish"===c&&(m&&!m.finish||!m)),(0,n.Z)(t,"".concat(v,"icon-cross"),!l&&"error"===c&&(m&&!m.error||!m)),t)),g=w.createElement("span",{className:"".concat(o,"-icon-dot")});return r=i?"function"===typeof i?w.createElement("span",{className:"".concat(o,"-icon")},i(g,{index:a-1,status:c,title:h,description:f})):w.createElement("span",{className:"".concat(o,"-icon")},g):l&&!d(l)?w.createElement("span",{className:"".concat(o,"-icon")},l):m&&m.finish&&"finish"===c?w.createElement("span",{className:"".concat(o,"-icon")},m.finish):m&&m.error&&"error"===c?w.createElement("span",{className:"".concat(o,"-icon")},m.error):l||"finish"===c||"error"===c?w.createElement("span",{className:p}):w.createElement("span",{className:"".concat(o,"-icon")},a),s&&(r=s({index:a-1,status:c,title:h,description:f,node:r})),r}},{key:"render",value:function(){var t,r=this.props,e=r.className,i=r.prefixCls,s=r.style,a=r.active,f=r.status,l=void 0===f?"wait":f,v=(r.iconPrefix,r.icon),m=(r.wrapperStyle,r.stepNumber,r.disabled),p=r.description,d=r.title,y=r.subTitle,b=(r.progressDot,r.stepIcon,r.tailContent),x=(r.icons,r.stepIndex,r.onStepClick),M=r.onClick,k=(0,h.Z)(r,g),E=u()("".concat(i,"-item"),"".concat(i,"-item-").concat(l),e,(t={},(0,n.Z)(t,"".concat(i,"-item-custom"),v),(0,n.Z)(t,"".concat(i,"-item-active"),a),(0,n.Z)(t,"".concat(i,"-item-disabled"),!0===m),t)),S=(0,c.Z)({},s),N={};return x&&!m&&(N.role="button",N.tabIndex=0,N.onClick=this.onClick),w.createElement("div",(0,o.Z)({},k,{className:E,style:S}),w.createElement("div",(0,o.Z)({onClick:M},N,{className:"".concat(i,"-item-container")}),w.createElement("div",{className:"".concat(i,"-item-tail")},b),w.createElement("div",{className:"".concat(i,"-item-icon")},this.renderIconNode()),w.createElement("div",{className:"".concat(i,"-item-content")},w.createElement("div",{className:"".concat(i,"-item-title")},d,y&&w.createElement("div",{title:"string"===typeof y?y:void 0,className:"".concat(i,"-item-subtitle")},y)),p&&w.createElement("div",{className:"".concat(i,"-item-description")},p))))}}]),e}(w.Component),b=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","items"],x=function(t){(0,m.Z)(e,t);var r=(0,p.Z)(e);function e(){var t;(0,f.Z)(this,e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r.call.apply(r,[this].concat(i)),(0,n.Z)((0,v.Z)(t),"onStepClick",(function(r){var e=t.props,o=e.onChange,n=e.current;o&&n!==r&&o(r)})),t}return(0,l.Z)(e,[{key:"render",value:function(){var t,r=this,e=this.props,i=e.prefixCls,s=e.style,a=void 0===s?{}:s,f=e.className,l=(e.children,e.direction),v=e.type,m=e.labelPlacement,p=e.iconPrefix,g=e.status,d=e.size,x=e.current,M=e.progressDot,k=e.stepIcon,E=e.initial,S=e.icons,N=e.onChange,C=e.items,R=void 0===C?[]:C,I=(0,h.Z)(e,b),Z="navigation"===v,F=M?"vertical":m,T=u()(i,"".concat(i,"-").concat(l),f,(t={},(0,n.Z)(t,"".concat(i,"-").concat(d),d),(0,n.Z)(t,"".concat(i,"-label-").concat(F),"horizontal"===l),(0,n.Z)(t,"".concat(i,"-dot"),!!M),(0,n.Z)(t,"".concat(i,"-navigation"),Z),t));return w.createElement("div",(0,o.Z)({className:T,style:a},I),R.filter((function(t){return t})).map((function(t,e){var n=(0,c.Z)({},t),s=E+e;return"error"===g&&e===x-1&&(n.className="".concat(i,"-next-error")),n.status||(n.status=s===x?g:s<x?"finish":"wait"),w.createElement(y,(0,o.Z)({},n,{active:s===x,stepNumber:s+1,stepIndex:s,key:s,prefixCls:i,iconPrefix:p,wrapperStyle:a,progressDot:M,stepIcon:k,icons:S,onStepClick:N&&r.onStepClick}))})))}}]),e}(w.Component);(0,n.Z)(x,"Step",y),(0,n.Z)(x,"defaultProps",{type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1});var M=x,k=e(71929),E=e(52832),S=e(28817),N=e(85501);var C=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]])}return e},R=function(t){var r,e=t.percent,a=t.size,c=t.className,h=t.direction,f=t.items,l=t.responsive,v=void 0===l||l,m=t.current,p=void 0===m?0:m,g=t.children,d=C(t,["percent","size","className","direction","items","responsive","current","children"]),y=(0,E.Z)(v).xs,b=w.useContext(k.E_),x=b.getPrefixCls,R=b.direction,I=w.useCallback((function(){return v&&y?"vertical":h}),[y,h]),Z=x("steps",t.prefixCls),F=x("",t.iconPrefix),T=function(t,r){return t||function(t){return t.filter((function(t){return t}))}((0,N.Z)(r).map((function(t){if(w.isValidElement(t)){var r=t.props;return(0,o.Z)({},r)}return null})))}(f,g),P=u()((r={},(0,n.Z)(r,"".concat(Z,"-rtl"),"rtl"===R),(0,n.Z)(r,"".concat(Z,"-with-progress"),void 0!==e),r),c),j={finish:w.createElement(i.Z,{className:"".concat(Z,"-finish-icon")}),error:w.createElement(s.Z,{className:"".concat(Z,"-error-icon")})};return w.createElement(M,(0,o.Z)({icons:j},d,{current:p,size:a,items:T,direction:I(),stepIcon:function(t){var r=t.node;if("process"===t.status&&void 0!==e){var o="small"===a?32:40;return w.createElement("div",{className:"".concat(Z,"-progress-icon")},w.createElement(S.Z,{type:"circle",percent:e,width:o,strokeWidth:4,format:function(){return null}}),r)}return r},prefixCls:Z,iconPrefix:F,className:P}))};R.Step=M.Step;var I=R},78322:function(t,r,e){"use strict";e.d(r,{Z:function(){return Z}});var o=e(15671),n=e(43144),i=e(82963),s=e(60136),a=e(54062),u=Object.prototype.toString;function c(t){var r=u.call(t);return r.endsWith("Array]")&&!r.includes("Big")}function h(t){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==e.output){if(!c(e.output))throw new TypeError("output option must be an array if specified");r=e.output}else r=new Array(t.length);var o=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var e=r.fromIndex,o=void 0===e?0:e,n=r.toIndex,i=void 0===n?t.length:n;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=o||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[o],a=o+1;a<i;a++)t[a]<s&&(s=t[a]);return s}(t),n=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var e=r.fromIndex,o=void 0===e?0:e,n=r.toIndex,i=void 0===n?t.length:n;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=o||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[o],a=o+1;a<i;a++)t[a]>s&&(s=t[a]);return s}(t);if(o===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=e.min,s=void 0===i?e.autoMinMax?o:0:i,a=e.max,u=void 0===a?e.autoMinMax?n:1:a;if(s>=u)throw new RangeError("min option must be smaller than max option");for(var h=(u-s)/(n-o),f=0;f<t.length;f++)r[f]=(t[f]-o)*h+s;return r}var f=" ".repeat(2),l=" ".repeat(4);function v(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.maxRows,o=void 0===e?15:e,n=r.maxColumns,i=void 0===n?10:n,s=r.maxNumSize,a=void 0===s?8:s,u=r.padMinus,c=void 0===u?"auto":u;return"".concat(t.constructor.name," {\n").concat(f,"[\n").concat(l).concat(function(t,r,e,o,n){var i=t.rows,s=t.columns,a=Math.min(i,r),u=Math.min(s,e),c=[];if("auto"===n){n=!1;t:for(var h=0;h<a;h++)for(var f=0;f<u;f++)if(t.get(h,f)<0){n=!0;break t}}for(var v=0;v<a;v++){for(var p=[],w=0;w<u;w++)p.push(m(t.get(v,w),o,n));c.push("".concat(p.join(" ")))}u!==s&&(c[c.length-1]+=" ... ".concat(s-e," more columns"));a!==i&&c.push("... ".concat(i-r," more rows"));return c.join("\n".concat(l))}(t,o,i,a,c),"\n").concat(f,"]\n").concat(f,"rows: ").concat(t.rows,"\n").concat(f,"columns: ").concat(t.columns,"\n}")}function m(t,r,e){return(t>=0&&e?" ".concat(p(t,r-1)):p(t,r)).padEnd(r)}function p(t,r){var e=t.toString();if(e.length<=r)return e;var o=t.toFixed(r);if(o.length>r&&(o=t.toFixed(Math.max(0,r-(o.length-r)))),o.length<=r&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;var n=t.toExponential(r);return n.length>r&&(n=t.toExponential(Math.max(0,r-(n.length-r)))),n.slice(0)}function w(t,r,e){var o=e?t.rows:t.rows-1;if(r<0||r>o)throw new RangeError("Row index out of range")}function g(t,r,e){var o=e?t.columns:t.columns-1;if(r<0||r>o)throw new RangeError("Column index out of range")}function d(t,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function y(t,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function b(t,r,e,o,n){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(M("startRow",r),M("endRow",e),M("startColumn",o),M("endColumn",n),r>e||o>n||r<0||r>=t.rows||e<0||e>=t.rows||o<0||o>=t.columns||n<0||n>=t.columns)throw new RangeError("Submatrix indices are out of range")}function x(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=[],o=0;o<t;o++)e.push(r);return e}function M(t,r){if("number"!==typeof r)throw new TypeError("".concat(t," must be a number"))}function k(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}var E=function(){function t(){(0,o.Z)(this,t)}return(0,n.Z)(t,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.call(this,r,e);return this}},{key:"to1DArray",value:function(){for(var t=[],r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.push(this.get(r,e));return t}},{key:"to2DArray",value:function(){for(var t=[],r=0;r<this.rows;r++){t.push([]);for(var e=0;e<this.columns;e++)t[r].push(this.get(r,e))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,r=0,e=-1,o=!0,n=!1;t<this.rows&&o;){for(r=0,n=!1;r<this.columns&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(o=!1,n=!0);t++}return o}},{key:"isReducedEchelonForm",value:function(){for(var t=0,r=0,e=-1,o=!0,n=!1;t<this.rows&&o;){for(r=0,n=!1;r<this.columns&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(o=!1,n=!0);for(var i=r+1;i<this.rows;i++)0!==this.get(t,i)&&(o=!1);t++}return o}},{key:"echelonForm",value:function(){for(var t=this.clone(),r=0,e=0;r<t.rows&&e<t.columns;){for(var o=r,n=r;n<t.rows;n++)t.get(n,e)>t.get(o,e)&&(o=n);if(0===t.get(o,e))e++;else{t.swapRows(r,o);for(var i=t.get(r,e),s=e;s<t.columns;s++)t.set(r,s,t.get(r,s)/i);for(var a=r+1;a<t.rows;a++){var u=t.get(a,e)/t.get(r,e);t.set(a,e,0);for(var c=e+1;c<t.columns;c++)t.set(a,c,t.get(a,c)-t.get(r,c)*u)}r++,e++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),r=t.columns,e=t.rows,o=e-1;o>=0;)if(0===t.maxRow(o))o--;else{for(var n=0,i=!1;n<e&&!1===i;)1===t.get(o,n)?i=!0:n++;for(var s=0;s<o;s++)for(var a=t.get(s,n),u=n;u<r;u++){var c=t.get(s,u)-a*t.get(o,u);t.set(s,u,c)}o--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");var r=t.rows,e=void 0===r?1:r,o=t.columns,n=void 0===o?1:o;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");for(var i=new N(this.rows*e,this.columns*n),s=0;s<e;s++)for(var a=0;a<n;a++)i.setSubMatrix(this,this.rows*s,this.columns*a);return i}},{key:"fill",value:function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){w(this,t);for(var r=[],e=0;e<this.columns;e++)r.push(this.get(t,e));return r}},{key:"getRowVector",value:function(t){return N.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,r){w(this,t),r=d(this,r);for(var e=0;e<this.columns;e++)this.set(t,e,r[e]);return this}},{key:"swapRows",value:function(t,r){w(this,t),w(this,r);for(var e=0;e<this.columns;e++){var o=this.get(t,e);this.set(t,e,this.get(r,e)),this.set(r,e,o)}return this}},{key:"getColumn",value:function(t){g(this,t);for(var r=[],e=0;e<this.rows;e++)r.push(this.get(e,t));return r}},{key:"getColumnVector",value:function(t){return N.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,r){g(this,t),r=y(this,r);for(var e=0;e<this.rows;e++)this.set(e,t,r[e]);return this}},{key:"swapColumns",value:function(t,r){g(this,t),g(this,r);for(var e=0;e<this.rows;e++){var o=this.get(e,t);this.set(e,t,this.get(e,r)),this.set(e,r,o)}return this}},{key:"addRowVector",value:function(t){t=d(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t[e]);return this}},{key:"subRowVector",value:function(t){t=d(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t[e]);return this}},{key:"mulRowVector",value:function(t){t=d(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t[e]);return this}},{key:"divRowVector",value:function(t){t=d(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t[e]);return this}},{key:"addColumnVector",value:function(t){t=y(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t[r]);return this}},{key:"subColumnVector",value:function(t){t=y(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t[r]);return this}},{key:"mulColumnVector",value:function(t){t=y(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t[r]);return this}},{key:"divColumnVector",value:function(t){t=y(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t[r]);return this}},{key:"mulRow",value:function(t,r){w(this,t);for(var e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)*r);return this}},{key:"mulColumn",value:function(t,r){g(this,t);for(var e=0;e<this.rows;e++)this.set(e,t,this.get(e,t)*r);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":for(var r=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.get(e,o)>r[e]&&(r[e]=this.get(e,o));return r;case"column":for(var n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),i=0;i<this.rows;i++)for(var s=0;s<this.columns;s++)this.get(i,s)>n[s]&&(n[s]=this.get(i,s));return n;case void 0:for(var a=this.get(0,0),u=0;u<this.rows;u++)for(var c=0;c<this.columns;c++)this.get(u,c)>a&&(a=this.get(u,c));return a;default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){k(this);for(var t=this.get(0,0),r=[0,0],e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.get(e,o)>t&&(t=this.get(e,o),r[0]=e,r[1]=o);return r}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":for(var r=new Array(this.rows).fill(Number.POSITIVE_INFINITY),e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.get(e,o)<r[e]&&(r[e]=this.get(e,o));return r;case"column":for(var n=new Array(this.columns).fill(Number.POSITIVE_INFINITY),i=0;i<this.rows;i++)for(var s=0;s<this.columns;s++)this.get(i,s)<n[s]&&(n[s]=this.get(i,s));return n;case void 0:for(var a=this.get(0,0),u=0;u<this.rows;u++)for(var c=0;c<this.columns;c++)this.get(u,c)<a&&(a=this.get(u,c));return a;default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){k(this);for(var t=this.get(0,0),r=[0,0],e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.get(e,o)<t&&(t=this.get(e,o),r[0]=e,r[1]=o);return r}},{key:"maxRow",value:function(t){if(w(this,t),this.isEmpty())return NaN;for(var r=this.get(t,0),e=1;e<this.columns;e++)this.get(t,e)>r&&(r=this.get(t,e));return r}},{key:"maxRowIndex",value:function(t){w(this,t),k(this);for(var r=this.get(t,0),e=[t,0],o=1;o<this.columns;o++)this.get(t,o)>r&&(r=this.get(t,o),e[1]=o);return e}},{key:"minRow",value:function(t){if(w(this,t),this.isEmpty())return NaN;for(var r=this.get(t,0),e=1;e<this.columns;e++)this.get(t,e)<r&&(r=this.get(t,e));return r}},{key:"minRowIndex",value:function(t){w(this,t),k(this);for(var r=this.get(t,0),e=[t,0],o=1;o<this.columns;o++)this.get(t,o)<r&&(r=this.get(t,o),e[1]=o);return e}},{key:"maxColumn",value:function(t){if(g(this,t),this.isEmpty())return NaN;for(var r=this.get(0,t),e=1;e<this.rows;e++)this.get(e,t)>r&&(r=this.get(e,t));return r}},{key:"maxColumnIndex",value:function(t){g(this,t),k(this);for(var r=this.get(0,t),e=[0,t],o=1;o<this.rows;o++)this.get(o,t)>r&&(r=this.get(o,t),e[0]=o);return e}},{key:"minColumn",value:function(t){if(g(this,t),this.isEmpty())return NaN;for(var r=this.get(0,t),e=1;e<this.rows;e++)this.get(e,t)<r&&(r=this.get(e,t));return r}},{key:"minColumnIndex",value:function(t){g(this,t),k(this);for(var r=this.get(0,t),e=[0,t],o=1;o<this.rows;o++)this.get(o,t)<r&&(r=this.get(o,t),e[0]=o);return e}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),r=[],e=0;e<t;e++)r.push(this.get(e,e));return r}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",r=0;if("max"===t)return this.max();if("frobenius"===t){for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)r+=this.get(e,o)*this.get(e,o);return Math.sqrt(r)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t+=this.get(r,e),this.set(r,e,t);return this}},{key:"dot",value:function(r){t.isMatrix(r)&&(r=r.to1DArray());var e=this.to1DArray();if(e.length!==r.length)throw new RangeError("vectors do not have the same size");for(var o=0,n=0;n<e.length;n++)o+=e[n]*r[n];return o}},{key:"mmul",value:function(t){t=N.checkMatrix(t);for(var r=this.rows,e=this.columns,o=t.columns,n=new N(r,o),i=new Float64Array(e),s=0;s<o;s++){for(var a=0;a<e;a++)i[a]=t.get(a,s);for(var u=0;u<r;u++){for(var c=0,h=0;h<e;h++)c+=this.get(u,h)*i[h];n.set(u,s,c)}}return n}},{key:"strassen2x2",value:function(t){t=N.checkMatrix(t);var r=new N(2,2),e=this.get(0,0),o=t.get(0,0),n=this.get(0,1),i=t.get(0,1),s=this.get(1,0),a=t.get(1,0),u=this.get(1,1),c=t.get(1,1),h=(e+u)*(o+c),f=(s+u)*o,l=e*(i-c),v=u*(a-o),m=(e+n)*c,p=h+v-m+(n-u)*(a+c),w=l+m,g=f+v,d=h-f+l+(s-e)*(o+i);return r.set(0,0,p),r.set(0,1,w),r.set(1,0,g),r.set(1,1,d),r}},{key:"strassen3x3",value:function(t){t=N.checkMatrix(t);var r=new N(3,3),e=this.get(0,0),o=this.get(0,1),n=this.get(0,2),i=this.get(1,0),s=this.get(1,1),a=this.get(1,2),u=this.get(2,0),c=this.get(2,1),h=this.get(2,2),f=t.get(0,0),l=t.get(0,1),v=t.get(0,2),m=t.get(1,0),p=t.get(1,1),w=t.get(1,2),g=t.get(2,0),d=t.get(2,1),y=t.get(2,2),b=(e-i)*(-l+p),x=(-e+i+s)*(f-l+p),M=(i+s)*(-f+l),k=e*f,E=(-e+u+c)*(f-v+w),S=(-e+u)*(v-w),C=(u+c)*(-f+v),R=(-n+c+h)*(p+g-d),I=(n-h)*(p-d),Z=n*g,F=(c+h)*(-g+d),T=(-n+s+a)*(w+g-y),P=(n-a)*(w-y),j=(s+a)*(-g+y),A=k+Z+o*m,L=(e+o+n-i-s-c-h)*p+x+M+k+R+Z+F,O=k+E+C+(e+o+n-s-a-u-c)*w+Z+T+j,_=b+s*(-f+l+m-p-w-g+y)+x+k+Z+T+P,V=b+x+M+k+a*d,q=Z+T+P+j+i*v,z=k+E+S+c*(-f+v+m-p-w-g+d)+R+I+Z,D=R+I+Z+F+u*l,G=k+E+S+C+h*y;return r.set(0,0,A),r.set(0,1,L),r.set(0,2,O),r.set(1,0,_),r.set(1,1,V),r.set(1,2,q),r.set(2,0,z),r.set(2,1,D),r.set(2,2,G),r}},{key:"mmulStrassen",value:function(r){r=N.checkMatrix(r);var e=this.clone(),o=e.rows,n=e.columns,i=r.rows,s=r.columns;function a(r,e,o){var n=r.rows,i=r.columns;if(n===e&&i===o)return r;var s=t.zeros(e,o);return s=s.setSubMatrix(r,0,0)}n!==i&&console.warn("Multiplying ".concat(o," x ").concat(n," and ").concat(i," x ").concat(s," matrix: dimensions do not match."));var u=Math.max(o,i),c=Math.max(n,s);return function r(e,o,n,i){if(n<=512||i<=512)return e.mmul(o);n%2===1&&i%2===1?(e=a(e,n+1,i+1),o=a(o,n+1,i+1)):n%2===1?(e=a(e,n+1,i),o=a(o,n+1,i)):i%2===1&&(e=a(e,n,i+1),o=a(o,n,i+1));var s=parseInt(e.rows/2,10),u=parseInt(e.columns/2,10),c=e.subMatrix(0,s-1,0,u-1),h=o.subMatrix(0,s-1,0,u-1),f=e.subMatrix(0,s-1,u,e.columns-1),l=o.subMatrix(0,s-1,u,o.columns-1),v=e.subMatrix(s,e.rows-1,0,u-1),m=o.subMatrix(s,o.rows-1,0,u-1),p=e.subMatrix(s,e.rows-1,u,e.columns-1),w=o.subMatrix(s,o.rows-1,u,o.columns-1),g=r(t.add(c,p),t.add(h,w),s,u),d=r(t.add(v,p),h,s,u),y=r(c,t.sub(l,w),s,u),b=r(p,t.sub(m,h),s,u),x=r(t.add(c,f),w,s,u),M=r(t.sub(v,c),t.add(h,l),s,u),k=r(t.sub(f,p),t.add(m,w),s,u),E=t.add(g,b);E.sub(x),E.add(k);var S=t.add(y,x),N=t.add(d,b),C=t.sub(g,d);C.add(y),C.add(M);var R=t.zeros(2*E.rows,2*E.columns);return(R=(R=(R=(R=R.setSubMatrix(E,0,0)).setSubMatrix(S,E.rows,0)).setSubMatrix(N,0,E.columns)).setSubMatrix(C,E.rows,E.columns)).subMatrix(0,n-1,0,i-1)}(e=a(e,u,c),r=a(r,u,c),u,c)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");var r=t.min,e=void 0===r?0:r,o=t.max,n=void 0===o?1:o;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");for(var i=new N(this.rows,this.columns),s=0;s<this.rows;s++){var a=this.getRow(s);a.length>0&&h(a,{min:e,max:n,output:a}),i.setRow(s,a)}return i}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");var r=t.min,e=void 0===r?0:r,o=t.max,n=void 0===o?1:o;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");for(var i=new N(this.rows,this.columns),s=0;s<this.columns;s++){var a=this.getColumn(s);a.length&&h(a,{min:e,max:n,output:a}),i.setColumn(s,a)}return i}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),r=0;r<this.rows;r++)for(var e=0;e<t;e++){var o=this.get(r,e),n=this.get(r,this.columns-1-e);this.set(r,e,n),this.set(r,this.columns-1-e,o)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),r=0;r<this.columns;r++)for(var e=0;e<t;e++){var o=this.get(e,r),n=this.get(this.rows-1-e,r);this.set(e,r,n),this.set(this.rows-1-e,r,o)}return this}},{key:"kroneckerProduct",value:function(t){t=N.checkMatrix(t);for(var r=this.rows,e=this.columns,o=t.rows,n=t.columns,i=new N(r*o,e*n),s=0;s<r;s++)for(var a=0;a<e;a++)for(var u=0;u<o;u++)for(var c=0;c<n;c++)i.set(o*s+u,n*a+c,this.get(s,a)*t.get(u,c));return i}},{key:"kroneckerSum",value:function(t){if(t=N.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var r=this.rows,e=t.rows,o=this.kroneckerProduct(N.eye(e,e)),n=N.eye(r,r).kroneckerProduct(t);return o.add(n)}},{key:"transpose",value:function(){for(var t=new N(this.columns,this.rows),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.set(e,r,this.get(r,e));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}},{key:"subMatrix",value:function(t,r,e,o){b(this,t,r,e,o);for(var n=new N(r-t+1,o-e+1),i=t;i<=r;i++)for(var s=e;s<=o;s++)n.set(i-t,s-e,this.get(i,s));return n}},{key:"subMatrixRow",value:function(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.columns-1),r>e||r<0||r>=this.columns||e<0||e>=this.columns)throw new RangeError("Argument out of range");for(var o=new N(t.length,e-r+1),n=0;n<t.length;n++)for(var i=r;i<=e;i++){if(t[n]<0||t[n]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[n]));o.set(n,i-r,this.get(t[n],i))}return o}},{key:"subMatrixColumn",value:function(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.rows-1),r>e||r<0||r>=this.rows||e<0||e>=this.rows)throw new RangeError("Argument out of range");for(var o=new N(e-r+1,t.length),n=0;n<t.length;n++)for(var i=r;i<=e;i++){if(t[n]<0||t[n]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[n]));o.set(i-r,n,this.get(i,t[n]))}return o}},{key:"setSubMatrix",value:function(t,r,e){if((t=N.checkMatrix(t)).isEmpty())return this;b(this,r,r+t.rows-1,e,e+t.columns-1);for(var o=0;o<t.rows;o++)for(var n=0;n<t.columns;n++)this.set(r+o,e+n,t.get(o,n));return this}},{key:"selection",value:function(t,r){!function(t,r){if(!c(r))throw new TypeError("row indices must be an array");for(var e=0;e<r.length;e++)if(r[e]<0||r[e]>=t.rows)throw new RangeError("row indices are out of range")}(this,t),function(t,r){if(!c(r))throw new TypeError("column indices must be an array");for(var e=0;e<r.length;e++)if(r[e]<0||r[e]>=t.columns)throw new RangeError("column indices are out of range")}(this,r);for(var e=new N(t.length,r.length),o=0;o<t.length;o++)for(var n=t[o],i=0;i<r.length;i++){var s=r[i];e.set(o,i,this.get(n,s))}return e}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),r=0,e=0;e<t;e++)r+=this.get(e,e);return r}},{key:"clone",value:function(){for(var t=new N(this.rows,this.columns),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.set(r,e,this.get(r,e));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var r=x(t.rows),e=0;e<t.rows;++e)for(var o=0;o<t.columns;++o)r[e]+=t.get(e,o);return r}(this);case"column":return function(t){for(var r=x(t.columns),e=0;e<t.rows;++e)for(var o=0;o<t.columns;++o)r[o]+=t.get(e,o);return r}(this);case void 0:return function(t){for(var r=0,e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)r+=t.get(e,o);return r}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(t){for(var r=x(t.rows,1),e=0;e<t.rows;++e)for(var o=0;o<t.columns;++o)r[e]*=t.get(e,o);return r}(this);case"column":return function(t){for(var r=x(t.columns,1),e=0;e<t.rows;++e)for(var o=0;o<t.columns;++o)r[o]*=t.get(e,o);return r}(this);case void 0:return function(t){for(var r=1,e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)r*=t.get(e,o);return r}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var r=this.sum(t);switch(t){case"row":for(var e=0;e<this.rows;e++)r[e]/=this.columns;return r;case"column":for(var o=0;o<this.columns;o++)r[o]/=this.rows;return r;case void 0:return r/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(r=t,t=void 0),"object"!==typeof r)throw new TypeError("options must be an object");var e=r,o=e.unbiased,n=void 0===o||o,i=e.mean,s=void 0===i?this.mean(t):i;if("boolean"!==typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!c(s))throw new TypeError("mean must be an array");return function(t,r,e){for(var o=t.rows,n=t.columns,i=[],s=0;s<o;s++){for(var a=0,u=0,c=0,h=0;h<n;h++)a+=c=t.get(s,h)-e[s],u+=c*c;r?i.push((u-a*a/n)/(n-1)):i.push((u-a*a/n)/n)}return i}(this,n,s);case"column":if(!c(s))throw new TypeError("mean must be an array");return function(t,r,e){for(var o=t.rows,n=t.columns,i=[],s=0;s<n;s++){for(var a=0,u=0,c=0,h=0;h<o;h++)a+=c=t.get(h,s)-e[s],u+=c*c;r?i.push((u-a*a/o)/(o-1)):i.push((u-a*a/o)/o)}return i}(this,n,s);case void 0:if("number"!==typeof s)throw new TypeError("mean must be a number");return function(t,r,e){for(var o=t.rows,n=t.columns,i=o*n,s=0,a=0,u=0,c=0;c<o;c++)for(var h=0;h<n;h++)s+=u=t.get(c,h)-e,a+=u*u;return r?(a-s*s/i)/(i-1):(a-s*s/i)/i}(this,n,s);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,r){"object"===typeof t&&(r=t,t=void 0);var e=this.variance(t,r);if(void 0===t)return Math.sqrt(e);for(var o=0;o<e.length;o++)e[o]=Math.sqrt(e[o]);return e}},{key:"center",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(r=t,t=void 0),"object"!==typeof r)throw new TypeError("options must be an object");var e=r.center,o=void 0===e?this.mean(t):e;switch(t){case"row":if(!c(o))throw new TypeError("center must be an array");return function(t,r){for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)t.set(e,o,t.get(e,o)-r[e])}(this,o),this;case"column":if(!c(o))throw new TypeError("center must be an array");return function(t,r){for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)t.set(e,o,t.get(e,o)-r[o])}(this,o),this;case void 0:if("number"!==typeof o)throw new TypeError("center must be a number");return function(t,r){for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)t.set(e,o,t.get(e,o)-r)}(this,o),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(r=t,t=void 0),"object"!==typeof r)throw new TypeError("options must be an object");var e=r.scale;switch(t){case"row":if(void 0===e)e=function(t){for(var r=[],e=0;e<t.rows;e++){for(var o=0,n=0;n<t.columns;n++)o+=Math.pow(t.get(e,n),2)/(t.columns-1);r.push(Math.sqrt(o))}return r}(this);else if(!c(e))throw new TypeError("scale must be an array");return function(t,r){for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)t.set(e,o,t.get(e,o)/r[e])}(this,e),this;case"column":if(void 0===e)e=function(t){for(var r=[],e=0;e<t.columns;e++){for(var o=0,n=0;n<t.rows;n++)o+=Math.pow(t.get(n,e),2)/(t.rows-1);r.push(Math.sqrt(o))}return r}(this);else if(!c(e))throw new TypeError("scale must be an array");return function(t,r){for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)t.set(e,o,t.get(e,o)/r[o])}(this,e),this;case void 0:if(void 0===e)e=function(t){for(var r=t.size-1,e=0,o=0;o<t.columns;o++)for(var n=0;n<t.rows;n++)e+=Math.pow(t.get(n,o),2)/r;return Math.sqrt(e)}(this);else if("number"!==typeof e)throw new TypeError("scale must be a number");return function(t,r){for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)t.set(e,o,t.get(e,o)/r)}(this,e),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return v(this,t)}}],[{key:"from1DArray",value:function(t,r,e){if(t*r!==e.length)throw new RangeError("data length does not match given dimensions");for(var o=new N(t,r),n=0;n<t;n++)for(var i=0;i<r;i++)o.set(n,i,e[n*r+i]);return o}},{key:"rowVector",value:function(t){for(var r=new N(1,t.length),e=0;e<t.length;e++)r.set(0,e,t[e]);return r}},{key:"columnVector",value:function(t){for(var r=new N(t.length,1),e=0;e<t.length;e++)r.set(e,0,t[e]);return r}},{key:"zeros",value:function(t,r){return new N(t,r)}},{key:"ones",value:function(t,r){return new N(t,r).fill(1)}},{key:"rand",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof e)throw new TypeError("options must be an object");for(var o=e.random,n=void 0===o?Math.random:o,i=new N(t,r),s=0;s<t;s++)for(var a=0;a<r;a++)i.set(s,a,n());return i}},{key:"randInt",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var o=e.min,n=void 0===o?0:o,i=e.max,s=void 0===i?1e3:i,a=e.random,u=void 0===a?Math.random:a;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(n>=s)throw new RangeError("min must be smaller than max");for(var c=s-n,h=new N(t,r),f=0;f<t;f++)for(var l=0;l<r;l++){var v=n+Math.round(u()*c);h.set(f,l,v)}return h}},{key:"eye",value:function(t,r,e){void 0===r&&(r=t),void 0===e&&(e=1);for(var o=Math.min(t,r),n=this.zeros(t,r),i=0;i<o;i++)n.set(i,i,e);return n}},{key:"diag",value:function(t,r,e){var o=t.length;void 0===r&&(r=o),void 0===e&&(e=r);for(var n=Math.min(o,r,e),i=this.zeros(r,e),s=0;s<n;s++)i.set(s,s,t[s]);return i}},{key:"min",value:function(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var e=t.rows,o=t.columns,n=new N(e,o),i=0;i<e;i++)for(var s=0;s<o;s++)n.set(i,s,Math.min(t.get(i,s),r.get(i,s)));return n}},{key:"max",value:function(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var e=t.rows,o=t.columns,n=new this(e,o),i=0;i<e;i++)for(var s=0;s<o;s++)n.set(i,s,Math.max(t.get(i,s),r.get(i,s)));return n}},{key:"checkMatrix",value:function(r){return t.isMatrix(r)?r:new N(r)}},{key:"isMatrix",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function S(t,r){return t-r}E.prototype.klass="Matrix","undefined"!==typeof Symbol&&(E.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return v(this)}),E.random=E.rand,E.randomInt=E.randInt,E.diagonal=E.diag,E.prototype.diagonal=E.prototype.diag,E.identity=E.eye,E.prototype.negate=E.prototype.neg,E.prototype.tensorProduct=E.prototype.kroneckerProduct;var N=function(t){(0,s.Z)(e,t);var r=(0,a.Z)(e);function e(t,n){var s;if((0,o.Z)(this,e),s=r.call(this),e.isMatrix(t))return(0,i.Z)(s,t.clone());if(Number.isInteger(t)&&t>=0){if(s.data=[],!(Number.isInteger(n)&&n>=0))throw new TypeError("nColumns must be a positive integer");for(var a=0;a<t;a++)s.data.push(new Float64Array(n))}else{if(!c(t))throw new TypeError("First argument must be a positive number or an array");var u=t;if("number"!==typeof(n=(t=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");s.data=[];for(var h=0;h<t;h++){if(u[h].length!==n)throw new RangeError("Inconsistent array dimensions");if(!u[h].every((function(t){return"number"===typeof t})))throw new TypeError("Input data contains non-numeric values");s.data.push(Float64Array.from(u[h]))}}return s.rows=t,s.columns=n,s}return(0,n.Z)(e,[{key:"set",value:function(t,r,e){return this.data[t][r]=e,this}},{key:"get",value:function(t,r){return this.data[t][r]}},{key:"removeRow",value:function(t){return w(this,t),this.data.splice(t,1),this.rows-=1,this}},{key:"addRow",value:function(t,r){return void 0===r&&(r=t,t=this.rows),w(this,t,!0),r=Float64Array.from(d(this,r)),this.data.splice(t,0,r),this.rows+=1,this}},{key:"removeColumn",value:function(t){g(this,t);for(var r=0;r<this.rows;r++){for(var e=new Float64Array(this.columns-1),o=0;o<t;o++)e[o]=this.data[r][o];for(var n=t+1;n<this.columns;n++)e[n-1]=this.data[r][n];this.data[r]=e}return this.columns-=1,this}},{key:"addColumn",value:function(t,r){"undefined"===typeof r&&(r=t,t=this.columns),g(this,t,!0),r=y(this,r);for(var e=0;e<this.rows;e++){for(var o=new Float64Array(this.columns+1),n=0;n<t;n++)o[n]=this.data[e][n];for(o[n++]=r[e];n<this.columns+1;n++)o[n]=this.data[e][n-1];this.data[e]=o}return this.columns+=1,this}}]),e}(E);!function(t,r){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t);return this},t.prototype.addM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)+t.get(e,o));return this},t.add=function(t,e){return new r(t).add(e)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t);return this},t.prototype.subM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)-t.get(e,o));return this},t.sub=function(t,e){return new r(t).sub(e)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t);return this},t.prototype.mulM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)*t.get(e,o));return this},t.mul=function(t,e){return new r(t).mul(e)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t);return this},t.prototype.divM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)/t.get(e,o));return this},t.div=function(t,e){return new r(t).div(e)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)%t);return this},t.prototype.modM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)%t.get(e,o));return this},t.mod=function(t,e){return new r(t).mod(e)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)&t);return this},t.prototype.andM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)&t.get(e,o));return this},t.and=function(t,e){return new r(t).and(e)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)|t);return this},t.prototype.orM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)|t.get(e,o));return this},t.or=function(t,e){return new r(t).or(e)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)^t);return this},t.prototype.xorM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)^t.get(e,o));return this},t.xor=function(t,e){return new r(t).xor(e)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)<<t);return this},t.prototype.leftShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)<<t.get(e,o));return this},t.leftShift=function(t,e){return new r(t).leftShift(e)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)>>t.get(e,o));return this},t.signPropagatingRightShift=function(t,e){return new r(t).signPropagatingRightShift(e)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)>>>t.get(e,o));return this},t.rightShift=function(t,e){return new r(t).rightShift(e)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,~this.get(t,r));return this},t.not=function(t){return new r(t).not()},t.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.abs(this.get(t,r)));return this},t.abs=function(t){return new r(t).abs()},t.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.acos(this.get(t,r)));return this},t.acos=function(t){return new r(t).acos()},t.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.acosh(this.get(t,r)));return this},t.acosh=function(t){return new r(t).acosh()},t.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.asin(this.get(t,r)));return this},t.asin=function(t){return new r(t).asin()},t.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.asinh(this.get(t,r)));return this},t.asinh=function(t){return new r(t).asinh()},t.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.atan(this.get(t,r)));return this},t.atan=function(t){return new r(t).atan()},t.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.atanh(this.get(t,r)));return this},t.atanh=function(t){return new r(t).atanh()},t.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.cbrt(this.get(t,r)));return this},t.cbrt=function(t){return new r(t).cbrt()},t.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.ceil(this.get(t,r)));return this},t.ceil=function(t){return new r(t).ceil()},t.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.clz32(this.get(t,r)));return this},t.clz32=function(t){return new r(t).clz32()},t.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.cos(this.get(t,r)));return this},t.cos=function(t){return new r(t).cos()},t.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.cosh(this.get(t,r)));return this},t.cosh=function(t){return new r(t).cosh()},t.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.exp(this.get(t,r)));return this},t.exp=function(t){return new r(t).exp()},t.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.expm1(this.get(t,r)));return this},t.expm1=function(t){return new r(t).expm1()},t.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.floor(this.get(t,r)));return this},t.floor=function(t){return new r(t).floor()},t.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.fround(this.get(t,r)));return this},t.fround=function(t){return new r(t).fround()},t.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.log(this.get(t,r)));return this},t.log=function(t){return new r(t).log()},t.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.log1p(this.get(t,r)));return this},t.log1p=function(t){return new r(t).log1p()},t.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.log10(this.get(t,r)));return this},t.log10=function(t){return new r(t).log10()},t.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.log2(this.get(t,r)));return this},t.log2=function(t){return new r(t).log2()},t.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.round(this.get(t,r)));return this},t.round=function(t){return new r(t).round()},t.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.sign(this.get(t,r)));return this},t.sign=function(t){return new r(t).sign()},t.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.sin(this.get(t,r)));return this},t.sin=function(t){return new r(t).sin()},t.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.sinh(this.get(t,r)));return this},t.sinh=function(t){return new r(t).sinh()},t.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.sqrt(this.get(t,r)));return this},t.sqrt=function(t){return new r(t).sqrt()},t.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.tan(this.get(t,r)));return this},t.tan=function(t){return new r(t).tan()},t.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.tanh(this.get(t,r)));return this},t.tanh=function(t){return new r(t).tanh()},t.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.trunc(this.get(t,r)));return this},t.trunc=function(t){return new r(t).trunc()},t.pow=function(t,e){return new r(t).pow(e)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,Math.pow(this.get(r,e),t));return this},t.prototype.powM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var o=0;o<this.columns;o++)this.set(e,o,Math.pow(this.get(e,o),t.get(e,o)));return this}}(E,N);var C=function(t){(0,s.Z)(e,t);var r=(0,a.Z)(e);function e(t){var n;return(0,o.Z)(this,e),(n=r.call(this)).data=t,n.rows=t.length,n.columns=t[0].length,n}return(0,n.Z)(e,[{key:"set",value:function(t,r,e){return this.data[t][r]=e,this}},{key:"get",value:function(t,r){return this.data[t][r]}}]),e}(E);function R(t,r){var e=0;return Math.abs(t)>Math.abs(r)?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0!==r?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):0}var I=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.Z)(this,t),(r=C.checkMatrix(r)).isEmpty())throw new Error("Matrix must be non-empty");var n,i=r.rows,s=r.columns,a=e.computeLeftSingularVectors,u=void 0===a||a,c=e.computeRightSingularVectors,h=void 0===c||c,f=e.autoTranspose,l=void 0!==f&&f,v=Boolean(u),m=Boolean(h),p=!1;if(i<s)if(l){i=(n=r.transpose()).rows,s=n.columns,p=!0;var w=v;v=m,m=w}else n=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else n=r.clone();for(var g=Math.min(i,s),d=Math.min(i+1,s),y=new Float64Array(d),b=new N(i,g),x=new N(s,s),M=new Float64Array(s),k=new Float64Array(i),E=new Float64Array(d),S=0;S<d;S++)E[S]=S;for(var I=Math.min(i-1,s),Z=Math.max(0,Math.min(s-2,i)),F=Math.max(I,Z),T=0;T<F;T++){if(T<I){y[T]=0;for(var P=T;P<i;P++)y[T]=R(y[T],n.get(P,T));if(0!==y[T]){n.get(T,T)<0&&(y[T]=-y[T]);for(var j=T;j<i;j++)n.set(j,T,n.get(j,T)/y[T]);n.set(T,T,n.get(T,T)+1)}y[T]=-y[T]}for(var A=T+1;A<s;A++){if(T<I&&0!==y[T]){for(var L=0,O=T;O<i;O++)L+=n.get(O,T)*n.get(O,A);L=-L/n.get(T,T);for(var _=T;_<i;_++)n.set(_,A,n.get(_,A)+L*n.get(_,T))}M[A]=n.get(T,A)}if(v&&T<I)for(var V=T;V<i;V++)b.set(V,T,n.get(V,T));if(T<Z){M[T]=0;for(var q=T+1;q<s;q++)M[T]=R(M[T],M[q]);if(0!==M[T]){M[T+1]<0&&(M[T]=0-M[T]);for(var z=T+1;z<s;z++)M[z]/=M[T];M[T+1]+=1}if(M[T]=-M[T],T+1<i&&0!==M[T]){for(var D=T+1;D<i;D++)k[D]=0;for(var G=T+1;G<i;G++)for(var U=T+1;U<s;U++)k[G]+=M[U]*n.get(G,U);for(var Y=T+1;Y<s;Y++)for(var B=-M[Y]/M[T+1],W=T+1;W<i;W++)n.set(W,Y,n.get(W,Y)+B*k[W])}if(m)for(var H=T+1;H<s;H++)x.set(H,T,M[H])}}var J=Math.min(s,i+1);if(I<s&&(y[I]=n.get(I,I)),i<J&&(y[J-1]=0),Z+1<J&&(M[Z]=n.get(Z,J-1)),M[J-1]=0,v){for(var K=I;K<g;K++){for(var X=0;X<i;X++)b.set(X,K,0);b.set(K,K,1)}for(var Q=I-1;Q>=0;Q--)if(0!==y[Q]){for(var $=Q+1;$<g;$++){for(var tt=0,rt=Q;rt<i;rt++)tt+=b.get(rt,Q)*b.get(rt,$);tt=-tt/b.get(Q,Q);for(var et=Q;et<i;et++)b.set(et,$,b.get(et,$)+tt*b.get(et,Q))}for(var ot=Q;ot<i;ot++)b.set(ot,Q,-b.get(ot,Q));b.set(Q,Q,1+b.get(Q,Q));for(var nt=0;nt<Q-1;nt++)b.set(nt,Q,0)}else{for(var it=0;it<i;it++)b.set(it,Q,0);b.set(Q,Q,1)}}if(m)for(var st=s-1;st>=0;st--){if(st<Z&&0!==M[st])for(var at=st+1;at<s;at++){for(var ut=0,ct=st+1;ct<s;ct++)ut+=x.get(ct,st)*x.get(ct,at);ut=-ut/x.get(st+1,st);for(var ht=st+1;ht<s;ht++)x.set(ht,at,x.get(ht,at)+ut*x.get(ht,st))}for(var ft=0;ft<s;ft++)x.set(ft,st,0);x.set(st,st,1)}for(var lt=J-1,vt=Number.EPSILON;J>0;){var mt=void 0,pt=void 0;for(mt=J-2;mt>=-1&&-1!==mt;mt--){var wt=Number.MIN_VALUE+vt*Math.abs(y[mt]+Math.abs(y[mt+1]));if(Math.abs(M[mt])<=wt||Number.isNaN(M[mt])){M[mt]=0;break}}if(mt===J-2)pt=4;else{var gt=void 0;for(gt=J-1;gt>=mt&&gt!==mt;gt--){var dt=(gt!==J?Math.abs(M[gt]):0)+(gt!==mt+1?Math.abs(M[gt-1]):0);if(Math.abs(y[gt])<=vt*dt){y[gt]=0;break}}gt===mt?pt=3:gt===J-1?pt=1:(pt=2,mt=gt)}switch(mt++,pt){case 1:var yt=M[J-2];M[J-2]=0;for(var bt=J-2;bt>=mt;bt--){var xt=R(y[bt],yt),Mt=y[bt]/xt,kt=yt/xt;if(y[bt]=xt,bt!==mt&&(yt=-kt*M[bt-1],M[bt-1]=Mt*M[bt-1]),m)for(var Et=0;Et<s;Et++)xt=Mt*x.get(Et,bt)+kt*x.get(Et,J-1),x.set(Et,J-1,-kt*x.get(Et,bt)+Mt*x.get(Et,J-1)),x.set(Et,bt,xt)}break;case 2:var St=M[mt-1];M[mt-1]=0;for(var Nt=mt;Nt<J;Nt++){var Ct=R(y[Nt],St),Rt=y[Nt]/Ct,It=St/Ct;if(y[Nt]=Ct,St=-It*M[Nt],M[Nt]=Rt*M[Nt],v)for(var Zt=0;Zt<i;Zt++)Ct=Rt*b.get(Zt,Nt)+It*b.get(Zt,mt-1),b.set(Zt,mt-1,-It*b.get(Zt,Nt)+Rt*b.get(Zt,mt-1)),b.set(Zt,Nt,Ct)}break;case 3:var Ft=Math.max(Math.abs(y[J-1]),Math.abs(y[J-2]),Math.abs(M[J-2]),Math.abs(y[mt]),Math.abs(M[mt])),Tt=y[J-1]/Ft,Pt=y[J-2]/Ft,jt=M[J-2]/Ft,At=y[mt]/Ft,Lt=M[mt]/Ft,Ot=((Pt+Tt)*(Pt-Tt)+jt*jt)/2,_t=Tt*jt*(Tt*jt),Vt=0;0===Ot&&0===_t||(Vt=_t/(Ot+(Vt=Ot<0?0-Math.sqrt(Ot*Ot+_t):Math.sqrt(Ot*Ot+_t))));for(var qt=(At+Tt)*(At-Tt)+Vt,zt=At*Lt,Dt=mt;Dt<J-1;Dt++){var Gt=R(qt,zt);0===Gt&&(Gt=Number.MIN_VALUE);var Ut=qt/Gt,Yt=zt/Gt;if(Dt!==mt&&(M[Dt-1]=Gt),qt=Ut*y[Dt]+Yt*M[Dt],M[Dt]=Ut*M[Dt]-Yt*y[Dt],zt=Yt*y[Dt+1],y[Dt+1]=Ut*y[Dt+1],m)for(var Bt=0;Bt<s;Bt++)Gt=Ut*x.get(Bt,Dt)+Yt*x.get(Bt,Dt+1),x.set(Bt,Dt+1,-Yt*x.get(Bt,Dt)+Ut*x.get(Bt,Dt+1)),x.set(Bt,Dt,Gt);if(0===(Gt=R(qt,zt))&&(Gt=Number.MIN_VALUE),Ut=qt/Gt,Yt=zt/Gt,y[Dt]=Gt,qt=Ut*M[Dt]+Yt*y[Dt+1],y[Dt+1]=-Yt*M[Dt]+Ut*y[Dt+1],zt=Yt*M[Dt+1],M[Dt+1]=Ut*M[Dt+1],v&&Dt<i-1)for(var Wt=0;Wt<i;Wt++)Gt=Ut*b.get(Wt,Dt)+Yt*b.get(Wt,Dt+1),b.set(Wt,Dt+1,-Yt*b.get(Wt,Dt)+Ut*b.get(Wt,Dt+1)),b.set(Wt,Dt,Gt)}M[J-2]=qt,1;break;case 4:if(y[mt]<=0&&(y[mt]=y[mt]<0?-y[mt]:0,m))for(var Ht=0;Ht<=lt;Ht++)x.set(Ht,mt,-x.get(Ht,mt));for(;mt<lt&&!(y[mt]>=y[mt+1]);){var Jt=y[mt];if(y[mt]=y[mt+1],y[mt+1]=Jt,m&&mt<s-1)for(var Kt=0;Kt<s;Kt++)Jt=x.get(Kt,mt+1),x.set(Kt,mt+1,x.get(Kt,mt)),x.set(Kt,mt,Jt);if(v&&mt<i-1)for(var Xt=0;Xt<i;Xt++)Jt=b.get(Xt,mt+1),b.set(Xt,mt+1,b.get(Xt,mt)),b.set(Xt,mt,Jt);mt++}0,J--}}if(p){var Qt=x;x=b,b=Qt}this.m=i,this.n=s,this.s=y,this.U=b,this.V=x}return(0,n.Z)(t,[{key:"solve",value:function(t){for(var r=t,e=this.threshold,o=this.s.length,n=N.zeros(o,o),i=0;i<o;i++)Math.abs(this.s[i])<=e?n.set(i,i,0):n.set(i,i,1/this.s[i]);for(var s=this.U,a=this.rightSingularVectors,u=a.mmul(n),c=a.rows,h=s.rows,f=N.zeros(c,h),l=0;l<c;l++)for(var v=0;v<h;v++){for(var m=0,p=0;p<o;p++)m+=u.get(l,p)*s.get(v,p);f.set(l,v,m)}return f.mmul(r)}},{key:"solveForDiagonal",value:function(t){return this.solve(N.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,r=this.threshold,e=t.rows,o=t.columns,n=new N(e,this.s.length),i=0;i<e;i++)for(var s=0;s<o;s++)Math.abs(this.s[s])>r&&n.set(i,s,t.get(i,s)/this.s[s]);for(var a=this.U,u=a.rows,c=a.columns,h=new N(e,u),f=0;f<e;f++)for(var l=0;l<u;l++){for(var v=0,m=0;m<c;m++)v+=n.get(f,m)*a.get(l,m);h.set(f,l,v)}return h}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,e=this.s,o=0,n=e.length;o<n;o++)e[o]>t&&r++;return r}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return N.diag(this.s)}}]),t}();var Z=function(){function t(r,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,t);var s=i.intercept,a=void 0===s||s,u=i.statistics,c=void 0===u||u;if(this.statistics=c,!0===r)this.weights=e.weights,this.inputs=e.inputs,this.outputs=e.outputs,this.intercept=e.intercept;else{r=new N(r),e=new N(e),a&&r.addColumn(new Array(r.rows).fill(1));var h=r.transpose(),f=h.mmul(r),l=h.mmul(e),v=new I(f).inverse(),m=l.transpose().mmul(v).transpose();if(this.weights=m.to2DArray(),this.inputs=r.columns,this.outputs=e.columns,a&&this.inputs--,this.intercept=a,c){var p=r.mmul(m),w=e.clone().addM(p.neg()).to2DArray().map((function(t){return Math.pow(t[0],2)})).reduce((function(t,r){return t+r}))/(e.rows-r.columns);this.stdError=Math.sqrt(w),this.stdErrorMatrix=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((t=N.checkMatrix(t)).isEmpty())return t.transpose();for(var e=new I(t,{autoTranspose:!0}),o=e.leftSingularVectors,n=e.rightSingularVectors,i=e.diagonal,s=0;s<i.length;s++)Math.abs(i[s])>r?i[s]=1/i[s]:i[s]=0;return n.mmul(N.diag(i).mmul(o.transpose()))}(f).mul(w),this.stdErrors=this.stdErrorMatrix.diagonal().map((function(t){return Math.sqrt(t)})),this.tStats=this.weights.map((function(t,r){return 0===n.stdErrors[r]?0:t[0]/n.stdErrors[r]}))}}}return(0,n.Z)(t,[{key:"predict",value:function(t){if(Array.isArray(t)){if("number"===typeof t[0])return this._predict(t);if(Array.isArray(t[0])){for(var r=new Array(t.length),e=0;e<t.length;e++)r[e]=this._predict(t[e]);return r}}else if(N.isMatrix(t)){for(var o=new N(t.rows,this.outputs),n=0;n<t.rows;n++)o.setRow(n,this._predict(t.getRow(n)));return o}throw new TypeError("x must be a matrix or array of numbers")}},{key:"_predict",value:function(t){var r=new Array(this.outputs);if(this.intercept)for(var e=0;e<this.outputs;e++)r[e]=this.weights[this.inputs][e];else r.fill(0);for(var o=0;o<this.inputs;o++)for(var n=0;n<this.outputs;n++)r[n]+=this.weights[o][n]*t[o];return r}},{key:"score",value:function(){throw new Error("score method is not implemented yet")}},{key:"toJSON",value:function(){var t=this;return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((function(r,e){return{label:e===t.weights.length-1?"Intercept":"X Variable ".concat(e+1),coefficients:r,standardError:t.stdErrors[e],tStat:t.tStats[e]}}))}:void 0}}}],[{key:"load",value:function(r){if("multivariateLinearRegression"!==r.name)throw new Error("not a MLR model");return new t(!0,r)}}]),t}()},93133:function(t,r,e){"use strict";var o=e(17061).default,n=this&&this.__awaiter||function(t,r,e,o){return new(e||(e=Promise))((function(n,i){function s(t){try{u(o.next(t))}catch(r){i(r)}}function a(t){try{u(o.throw(t))}catch(r){i(r)}}function u(t){var r;t.done?n(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(s,a)}u((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.rowsForCsvFile=r.headerForCsvFile=r.columnsForRawCsvLine=void 0;var i=e(83415);function s(t){var r=t.includes(";")?";":",";return t.split(r)}r.columnsForRawCsvLine=s,r.headerForCsvFile=function(t){return n(this,void 0,void 0,o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.linesForFile)(t);case 2:if(e=r.sent){r.next=5;break}return r.abrupt("return",null);case 5:return r.abrupt("return",s(e[0]));case 6:case"end":return r.stop()}}),r)})))},r.rowsForCsvFile=function(t){return n(this,void 0,void 0,o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.linesForFile)(t);case 2:if(!((e=r.sent).length<=1)){r.next=5;break}return r.abrupt("return",[]);case 5:return r.abrupt("return",e.slice(1).map(s));case 6:case"end":return r.stop()}}),r)})))}},83415:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.linesForFile=r.filenameForFile=void 0,r.filenameForFile=function(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t.name.includes(".")?t.name.split(".").reverse().pop():t.name},r.linesForFile=function(t){return new Promise((function(r,e){var o=new FileReader;o.onload=function(t){var e=t.target.result;r(e.split(/\r\n|\n/))},o.onerror=e,o.readAsText(t)}))}},49219:function(t,r,e){"use strict";r.di=r.jw=r.fM=void 0;var o=e(83415);Object.defineProperty(r,"fM",{enumerable:!0,get:function(){return o.filenameForFile}});var n=e(93133);Object.defineProperty(r,"jw",{enumerable:!0,get:function(){return n.headerForCsvFile}}),Object.defineProperty(r,"di",{enumerable:!0,get:function(){return n.rowsForCsvFile}})},17061:function(t,r,e){var o=e(18698).default;function n(){"use strict";t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},e=Object.prototype,i=e.hasOwnProperty,s=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",h=a.toStringTag||"@@toStringTag";function f(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{f({},"")}catch(F){f=function(t,r,e){return t[r]=e}}function l(t,r,e,o){var n=r&&r.prototype instanceof p?r:p,i=Object.create(n.prototype),a=new R(o||[]);return s(i,"_invoke",{value:E(t,e,a)}),i}function v(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(F){return{type:"throw",arg:F}}}r.wrap=l;var m={};function p(){}function w(){}function g(){}var d={};f(d,u,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==e&&i.call(b,u)&&(d=b);var x=g.prototype=p.prototype=Object.create(d);function M(t){["next","throw","return"].forEach((function(r){f(t,r,(function(t){return this._invoke(r,t)}))}))}function k(t,r){function e(n,s,a,u){var c=v(t[n],t,s);if("throw"!==c.type){var h=c.arg,f=h.value;return f&&"object"==o(f)&&i.call(f,"__await")?r.resolve(f.__await).then((function(t){e("next",t,a,u)}),(function(t){e("throw",t,a,u)})):r.resolve(f).then((function(t){h.value=t,a(h)}),(function(t){return e("throw",t,a,u)}))}u(c.arg)}var n;s(this,"_invoke",{value:function(t,o){function i(){return new r((function(r,n){e(t,o,r,n)}))}return n=n?n.then(i,i):i()}})}function E(t,r,e){var o="suspendedStart";return function(n,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw i;return Z()}for(e.method=n,e.arg=i;;){var s=e.delegate;if(s){var a=S(s,e);if(a){if(a===m)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===o)throw o="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o="executing";var u=v(t,r,e);if("normal"===u.type){if(o=e.done?"completed":"suspendedYield",u.arg===m)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o="completed",e.method="throw",e.arg=u.arg)}}}function S(t,r){var e=r.method,o=t.iterator[e];if(void 0===o)return r.delegate=null,"throw"===e&&t.iterator.return&&(r.method="return",r.arg=void 0,S(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),m;var n=v(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,m;var i=n.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function N(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function C(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function I(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function r(){for(;++e<t.length;)if(i.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return o.next=o}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return w.prototype=g,s(x,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:w,configurable:!0}),w.displayName=f(g,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,f(t,h,"GeneratorFunction")),t.prototype=Object.create(x),t},r.awrap=function(t){return{__await:t}},M(k.prototype),f(k.prototype,c,(function(){return this})),r.AsyncIterator=k,r.async=function(t,e,o,n,i){void 0===i&&(i=Promise);var s=new k(l(t,e,o,n),i);return r.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},M(x),f(x,h,"Generator"),f(x,u,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),e=[];for(var o in r)e.push(o);return e.reverse(),function t(){for(;e.length;){var o=e.pop();if(o in r)return t.value=o,t.done=!1,t}return t.done=!0,t}},r.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,o){return s.type="throw",s.arg=t,r.next=e,o&&(r.method="next",r.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var a=i.call(n,"catchLoc"),u=i.call(n,"finallyLoc");if(a&&u){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=r&&r<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=r,n?(this.method="next",this.next=n.finallyLoc,m):this.complete(s)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),C(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var n=o.arg;C(e)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:I(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),m}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
//# sourceMappingURL=19.48f320bc.chunk.js.map