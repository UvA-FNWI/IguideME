"use strict";(self.webpackChunkiguideme=self.webpackChunkiguideme||[]).push([[787],{1699:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(15671),r=n(43144),s=n(60136),a=n(95212),o=n(68438),l=n(5674),u=n(68865),c=n(30767),d=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,null,[{key:"getStudents",value:function(){return(0,o.f)()?(0,c.g)(u.wZ):this.client.get("students").then((function(e){return e.data}))}},{key:"getConsents",value:function(){return(0,o.f)()?(0,c.g)(u.nj):this.client.get("consents").then((function(e){return e.data}))}},{key:"getGoalgrades",value:function(){return(0,o.f)()?(0,c.g)(u.sU):this.client.get("goal-grades").then((function(e){return e.data}))}}]),n}(l.Z)},4525:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(15671),r=n(43144),s=n(60136),a=n(95212),o=n(72791),l=n(72014),u=n(49109),c=n(64880),d=n(58686),p=n(19603),h=n(29529),f=n(78222),x=n(68961),v=n(55240),g=n(56200),j=n(68409),Z=n(30836),m=n(34633),y=n(6314),b=n(53660),w=n(9150),T=n(752),C=n(36090),k=n(91523),S=n(60364),E=n(80184),N=(0,S.$j)((function(e){return{user:e.user}})),I=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this.props.user;return(0,E.jsxs)("div",{id:"adminMenu",children:[(0,E.jsxs)("div",{id:"user",children:[(0,E.jsx)("h3",{children:e?e.name:"Loading profile..."}),(0,E.jsxs)("strong",{children:[(0,E.jsx)(h.Z,{})," Instructor"]})]}),(0,E.jsxs)(C.Z,{selectedKeys:[this.props.menuKey],children:[(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(f.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin",children:"Datamart"})},"datamart"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(x.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/tiles",children:"Tiles"})},"tiles"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(v.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/dashboard",children:"Dashboard"})},"dashboard"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(g.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/student-overview",children:"Student Overview"})},"studentOverview"),(0,E.jsxs)(C.Z.SubMenu,{icon:(0,E.jsx)(j.Z,{}),title:"Grades",children:[(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(Z.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/grade-predictor-old",children:"Old Predictor"})},"gradePredictorOld"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(Z.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/grade-predictor",children:"Predictor"})},"gradePredictor"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(m.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/grade-analyzer",children:"Analyzer"})},"gradeAnalyzer")]},"submenu"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(y.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/data-wizard",children:"Data Wizard"})},"dataWizard"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(b.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/analytics",children:"Analytics"})},"analytics"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(w.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/notification-centre",children:"Notification Centre"})},"notificationCentre"),(0,E.jsx)(C.Z.Item,{icon:(0,E.jsx)(T.Z,{}),children:(0,E.jsx)(k.rU,{to:"/admin/settings",children:"Settings"})},"settings")]})]})}}]),n}(o.Component),G=N(I),O=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.isAdmin,n=e.menuKey;return t?(0,E.jsxs)("div",{id:"admin",children:[(0,E.jsx)(u.Z,{}),(0,E.jsxs)(d.Z,{children:[(0,E.jsx)(p.Z,{xs:4,children:(0,E.jsx)(G,{menuKey:n})}),(0,E.jsx)(p.Z,{xs:20,id:"wrapper",className:"".concat("settings"!==n&&"noOverflow"),children:this.props.children})]})]}):(0,E.jsx)(c.l_,{to:"/"})}}]),n}(o.Component),A=(0,l.u)(O)},45787:function(e,t,n){n.r(t),n.d(t,{default:function(){return $e}});var i=n(15671),r=n(43144),s=n(60136),a=n(95212),o=n(72791),l=n(4525),u=n(83099),c=n(87309),d=n(68885),p=n(4219),h=n(79286),f=n(89591),x=n(86916),v=n(60364),g=n(80184),j={loadGroups:function(){return f.b.loadGroups()}},Z=(0,v.$j)((function(e){return{tileGroups:e.tileGroups}}),j),m=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={text:"",drawerOpen:!1},e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this;return(0,g.jsxs)("div",{id:"manageGroup",children:[(0,g.jsx)(u.Z,{direction:"horizontal",children:(0,g.jsx)(c.Z,{icon:(0,g.jsx)(h.Z,{}),className:"successButton",onClick:function(){return e.setState({drawerOpen:!0})},children:"Group"})}),(0,g.jsxs)(d.Z,{width:400,title:"Create tile group",placement:"right",closable:!0,onClose:function(){return e.setState({drawerOpen:!1})},visible:this.state.drawerOpen,getContainer:!1,style:{position:"absolute"},children:[(0,g.jsx)("p",{children:"Provide a title for the group."}),(0,g.jsxs)(u.Z,{style:{width:"100%"},direction:"vertical",children:[(0,g.jsx)(p.Z,{placeholder:"Title",value:this.state.text,onChange:function(t){return e.setState({text:t.target.value||""})}}),(0,g.jsxs)(u.Z,{direction:"horizontal",children:[(0,g.jsx)(c.Z,{type:"ghost",onClick:function(){return e.setState({drawerOpen:!1})},children:"Cancel"}),(0,g.jsx)(c.Z,{className:"successButton",onClick:function(){x.Z.createTileGroup(e.state.text,e.props.tileGroups.length).then((function(){e.props.loadGroups().then((function(){e.setState({drawerOpen:!1,text:""})}))}))},children:"Create"})]})]})]})]})}}]),n}(o.Component),y=Z(m),b=n(91333),w=n(37762),T=n(93433),C=n(1413),k=n(74165),S=n(15861),E=n(82622),N=n(36090),I=n(37382),G=n(37083),O=n(31752),A=n(21830),_=n.n(A),D=(0,v.$j)((function(e){return{tiles:e.tiles}}),(function(e){return{updateTile:function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,f.b.updateTile(n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})),q=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1,tile:null},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.setState({tile:this.props.tile})}},{key:"render",value:function(){var e=this,t=(0,g.jsxs)(N.Z,{onClick:function(){},children:[(0,g.jsx)(N.Z.Item,{icon:(0,g.jsx)(O.Z,{}),onClick:this.props.editTile,children:"Edit"},"1"),(0,g.jsx)(N.Z.Item,{icon:(0,g.jsx)(E.Z,{}),onClick:function(){_().fire({title:"Do you really want to delete this tile?",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"rgb(255, 110, 90)",showLoaderOnConfirm:!0,allowOutsideClick:function(){return!_().isLoading()}}).then((function(t){t.isConfirmed&&e.props.deleteTile(i.id).then((function(){return[_().fire("Task completed!","","success")]}))}))},danger:!0,children:"Delete"},"2")]}),n=this.state,i=n.tile,r=n.loading;return i?(0,g.jsx)("div",{style:{float:"right"},children:(0,g.jsx)(I.Z.Button,{overlay:t,className:r?"":i.visible?"successButtonGroup":"dangerButtonGroup",onClick:function(){e.setState({loading:!0},(function(){var t=i;t.visible=!t.visible,x.Z.updateTile(t).then(function(){var n=(0,S.Z)((0,k.Z)().mark((function n(i){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.props.updateTile(i);case 2:e.setState({tile:t,loading:!1});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}))},children:r?(0,g.jsx)(G.Z,{size:"small"}):i.visible?"Visible":"Hidden"})}):null}}]),n}(o.Component),R=D(q),z=n(58686),M=n(19603),P=n(47528),L=n(35945),U=n(26712),B=n(62367),V=n(68961),W=n(68313),K=n(68409),Y=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).getName=function(){switch(e.props.content){case"BINARY":return"Binary";case"ENTRIES":return"Entries";case"LEARNING_OUTCOMES":return"Learning Outcomes";case"PREDICTION":return"Prediction"}},e.getIcon=function(){switch(e.props.content){case"BINARY":return(0,g.jsx)(B.Z,{});case"ENTRIES":return(0,g.jsx)(V.Z,{});case"PREDICTION":return(0,g.jsx)(W.Z,{});case"LEARNING_OUTCOMES":return(0,g.jsx)(K.Z,{})}},e}return(0,r.Z)(n,[{key:"render",value:function(){return(0,g.jsx)("div",{id:"contentType",children:(0,g.jsxs)(u.Z,{direction:"horizontal",style:{width:"100%"},children:[this.getIcon(),(0,g.jsx)("span",{children:(0,g.jsx)("b",{children:this.getName()})})]})})}}]),n}(o.Component),$=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).getName=function(){switch(e.props.type){case"ASSIGNMENTS":return"Assignments";case"DISCUSSIONS":return"Discussions";case"EXTERNAL_DATA":return"External Data";default:return"N/A"}},e}return(0,r.Z)(n,[{key:"render",value:function(){return(0,g.jsx)("div",{id:"tileType",children:(0,g.jsx)("span",{children:(0,g.jsx)("b",{children:this.getName()})})})}}]),n}(o.Component),H=n(69392),Q=(0,v.$j)((function(e){return{tiles:e.tiles,tileEntries:e.tileEntries}}),(function(e){return{updateTile:function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,f.b.updateTile(n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})),J=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={tile:null,entriesLoaded:!1,entries:[],updatingNotifications:[]},e.toggleNotifications=function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){var i;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.state.updatingNotifications,e.setState({updatingNotifications:[].concat((0,T.Z)(i),[n.id])},(function(){n.notifications=!n.notifications,x.Z.updateTile(n).then(function(){var t=(0,S.Z)((0,k.Z)().mark((function t(r){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.updateTile(r),e.setState({updatingNotifications:i.filter((function(e){return e!==n.id})),tile:r});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({tile:this.props.tile}),x.Z.getTileEntries(this.props.tile.id).then((function(t){e.setState({entries:t,entriesLoaded:!0})}))}},{key:"componentDidUpdate",value:function(e,t,n){var i=this,r=this.state.tile;void 0===r&&e.tile.id!==r.id&&x.Z.getTileEntries(r.id).then((function(e){i.setState({entries:e,entriesLoaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.tile,i=t.entriesLoaded,r=t.entries,s=t.updatingNotifications;return n?(0,g.jsx)(H.Draggable,{className:"tile",children:(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"padded",children:[(0,g.jsx)(R,{tile:n,editTile:this.props.editTile,deleteTile:this.props.deleteTile}),(0,g.jsx)("h3",{children:n.title}),(0,g.jsxs)(z.Z,{gutter:10,style:{marginTop:20},children:[(0,g.jsxs)(M.Z,{xs:12,children:[(0,g.jsx)("span",{children:"Content type"}),(0,g.jsx)(Y,{content:n.content})]}),(0,g.jsxs)(M.Z,{xs:12,style:{textAlign:"right"},children:[(0,g.jsx)("span",{children:"Tile type"}),(0,g.jsx)($,{type:n.type})]}),(0,g.jsx)(M.Z,{xs:24,style:{margin:"20px 0"},children:(0,g.jsx)(b.Z,{})}),(0,g.jsx)(M.Z,{xs:18,children:(0,g.jsx)("div",{children:i?(0,g.jsxs)("span",{children:[(0,g.jsx)(P.Z,{children:r.length},"tileTag"+n.id.toString()),"children"]}):(0,g.jsx)("span",{children:"Loading entries..."})})}),(0,g.jsx)(M.Z,{xs:6,children:(0,g.jsx)(L.Z,{title:(0,g.jsxs)("span",{children:["Notifications are turned ",(0,g.jsx)("strong",{children:n.notifications?"on":"off"}),"."]}),children:(0,g.jsx)(c.Z,{type:"ghost",loading:s.includes(n.id),style:{float:"right"},shape:"circle",icon:(0,g.jsx)(U.Z,{twoToneColor:n.notifications?"rgb(0, 185, 120)":"rgb(255, 110, 90)"}),onClick:function(){return e.toggleNotifications(n)}},"toggleNotificationsTile#".concat(n.id))},"tooltipTile#".concat(n.id))})]})]})})},"dragTile"+n.id.toString()):null}}]),n}(o.Component),X=Q(J),F=n(83373),ee=n(65323),te=n(18622),ne=n(91523),ie=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){return(0,g.jsxs)("div",{id:"externalDataManager",children:[(0,g.jsx)("h2",{children:"Tiles of type external data need no further configuration."}),(0,g.jsxs)("span",{children:["Data can be uploaded via the ",(0,g.jsx)(ne.rU,{to:"/admin/data-wizard",children:"Data Wizard"}),"!"]}),(0,g.jsx)("div",{id:"illustration"})]})}}]),n}(o.Component),re=n(17350),se=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).getTitle=function(){switch(e.props.contentType){case"BINARY":return"Binary tiles";case"ENTRIES":return"Entries";default:return""}},e.getDescription=function(){switch(e.props.contentType){case"BINARY":return"Binary tiles project data whose unit can take on only two possible states, given by a grade of 0 and 1.";case"ENTRIES":return"The entries content type is most suitable for tiles containing gradable components";default:return""}},e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this.props.contentType;return console.log("RENDER",e),e?(0,g.jsx)("div",{id:"preview",children:(0,g.jsxs)(z.Z,{gutter:[10,10],children:[(0,g.jsx)(M.Z,{xs:24,md:8,children:(0,g.jsx)(re.Z,{children:(0,g.jsx)("div",{id:"mockRender",className:e?e.toLowerCase():""})})}),(0,g.jsx)(M.Z,{xs:24,md:16,id:"description",children:(0,g.jsxs)("div",{id:"descriptionWrapper",children:[(0,g.jsx)("h2",{children:this.getTitle()}),(0,g.jsx)("span",{children:this.getDescription()})]})})]})}):(0,g.jsx)("span",{children:"error?"})}}]),n}(o.Component),ae=n(26514),oe=n(25581),le=n(90785),ue=n(32788),ce=n(72921),de=n(68944),pe=n(11532),he=function(e,t){return[{title:"Name",dataIndex:"title",key:"title"},{title:"On Canvas",dataIndex:"onCanvas",key:"onCanvas",render:function(e,n){return void 0!==t.find((function(e){return e.name===n.title}))?(0,g.jsxs)("span",{className:"binary success",children:[(0,g.jsx)(de.Z,{})," Yes"]}):(0,g.jsxs)("span",{className:"binary fail",children:[(0,g.jsx)(pe.Z,{})," ",(0,g.jsx)("b",{children:"No"})]})}},{title:"Published",dataIndex:"published",key:"published",render:function(e,n){var i=t.find((function(e){return e.name===n.title}));return i&&i.published?(0,g.jsxs)("div",{className:"binary success",children:[(0,g.jsx)(de.Z,{})," ",(0,g.jsx)("span",{children:"Yes"})]}):(0,g.jsxs)("div",{className:"binary fail",children:[(0,g.jsx)(pe.Z,{})," ",(0,g.jsx)("span",{children:"No"})]})}},{title:"Action",dataIndex:"action",key:"action",render:function(t,n){return(0,g.jsx)(c.Z,{danger:!0,icon:(0,g.jsx)(E.Z,{}),shape:"round",type:"primary",size:"large",onClick:function(){return e(n)}})}}]},fe=n(53801),xe=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this;return(0,g.jsx)(fe.Z,{title:"Response Canvas quizzes",centered:!0,closable:!0,visible:this.props.open,width:"90%",onCancel:function(){return e.props.setOpen(!1)},footer:(0,g.jsx)("div",{children:(0,g.jsx)(c.Z,{onClick:function(){return e.props.setOpen(!1)},children:"Close"})}),children:(0,g.jsxs)(z.Z,{gutter:[10,10],children:[(0,g.jsxs)(M.Z,{xs:24,md:8,children:[(0,g.jsx)("h2",{children:"Create a quiz"}),(0,g.jsx)("p",{children:'The responsive setup of the quizzes is reliant on a varying points-per-question. This functionality is only available in the "New Quizzes" Quiz Engine. Select the "New Quizzes" and hit "Submit".'})]}),(0,g.jsx)(M.Z,{xs:24,md:16,style:{textAlign:"center"},children:(0,g.jsx)("img",{src:"/assets/img/tutorial/quiz-create.jpg",style:{height:"100%",maxHeight:400},alt:""})}),(0,g.jsx)(M.Z,{xs:24,children:(0,g.jsx)(b.Z,{})}),(0,g.jsxs)(M.Z,{xs:24,children:[(0,g.jsx)("h2",{children:"Quiz details"}),(0,g.jsxs)("p",{children:["When you select the Quiz Engine the assignment details must be provided. Be sure to tick the box in front of ",(0,g.jsx)("i",{children:'"Do not count this assignment towards the final grade"'}),'. When all details are in-place hit the "Build" button.']})]}),(0,g.jsx)(M.Z,{xs:24,children:(0,g.jsx)(b.Z,{})}),(0,g.jsxs)(M.Z,{xs:24,md:8,children:[(0,g.jsx)("h2",{children:"Specifying the question type"}),(0,g.jsx)("p",{children:'To add a question to the quiz click the plus-button placed under the instructions field. You will be asked which type of question you want to add. Choose the "Multiple choice" question type.'})]}),(0,g.jsx)(M.Z,{xs:24,md:16,style:{textAlign:"center"},children:(0,g.jsx)("img",{src:"/assets/img/tutorial/quiz-add-question.jpg",style:{height:"100%",maxHeight:300},alt:""})}),(0,g.jsx)(M.Z,{xs:24,children:(0,g.jsx)(b.Z,{})}),(0,g.jsxs)(M.Z,{xs:24,md:8,children:[(0,g.jsx)("h2",{children:"Formulating the question"}),(0,g.jsxs)("p",{children:["When you specify the question type you are able to formulate the question. In the right-side figure an example formulation is shown asking the student to specify the time spend on an assignment. Other use-cases may be to poll the reading times on class exercises. Be sure to tick the ",(0,g.jsx)("i",{children:'"Varying points by answer"'})," checkbox. Create as many options as you wish and use the assigned points as a measurement of the student's answer. In the example students are rewarded points equivalent to the maximum time of the answer in minutes. Be consistent with the time unit used for the assigned points."]})]}),(0,g.jsx)(M.Z,{xs:24,md:16,style:{textAlign:"center"},children:(0,g.jsx)("img",{src:"/assets/img/tutorial/quiz-question.jpg",style:{height:"100%",maxHeight:320},alt:""})}),(0,g.jsx)(M.Z,{xs:24,children:(0,g.jsx)(b.Z,{})}),(0,g.jsxs)(M.Z,{xs:24,md:8,children:[(0,g.jsx)("h2",{children:"Quiz Settings"}),(0,g.jsx)("p",{children:'Lastly we wish to hide the obtained points from the students. To do this navigate to the "Settings" tab and enable the "Restrict result view". Uncheck the box where students are shown their rewarded points.'})]}),(0,g.jsx)(M.Z,{xs:24,md:16,style:{textAlign:"center"},children:(0,g.jsx)("img",{src:"/assets/img/tutorial/quiz-settings.jpg",style:{height:"100%",maxHeight:320},alt:""})}),(0,g.jsx)(M.Z,{xs:24,children:(0,g.jsx)(b.Z,{})}),(0,g.jsxs)(M.Z,{xs:24,children:[(0,g.jsx)("h2",{children:"We're done!"}),(0,g.jsx)("p",{children:"That's it, students should now be able to take the quiz and IGuideME is able to extract the rewarded points per student."})]})]})})}}]),n}(o.Component),ve=n(9146),ge=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={tutorialOpen:!1},e.addAssignment=function(t){var n=e.props,i=n.canvasAssignments,r=n.tile,s=i.find((function(e){return e.name===t})),a={id:-1,state:ve.j.new,tile_id:r?r.id:-1,title:s?s.name:t,type:"ASSIGNMENT"};e.props.addEntry(a)},e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeAssignments,i=t.canvasAssignments;return(0,g.jsxs)("div",{id:"assignmentManager",children:[(0,g.jsx)("h2",{children:"Select assignments."}),(0,g.jsx)(b.Z,{}),(0,g.jsxs)(u.Z,{direction:"vertical",style:{width:"100%"},children:[(0,g.jsx)(xe,{open:this.state.tutorialOpen,setOpen:function(t){return e.setState({tutorialOpen:t})}}),(0,g.jsxs)("span",{children:[(0,g.jsx)(oe.Z,{checked:this.props.graphView,onChange:function(t){return e.props.setGraphView(t)},style:{zIndex:0}}),"\xa0",(0,g.jsx)("b",{children:"Enable graph view. "}),"If enabled entries will be visualized using a graph instead of the tiles."]}),(0,g.jsx)(le.Z,{message:(0,g.jsxs)("span",{children:[(0,g.jsx)(ce.Z,{}),"\xa0",(0,g.jsx)("button",{onClick:function(){return e.setState({tutorialOpen:!0})},style:{background:"none",border:"none",padding:"0!important",cursor:"pointer",color:"#069",textDecoration:"underline"},children:"Create responsive quizzes."})," ","Responsive quizzes are like surveys which can be used to poll the time spent on an assignment."]}),type:"info"}),(0,g.jsx)("div",{id:"assignmentRegistry",children:(0,g.jsx)(ue.Z,{columns:he(this.props.removeEntry,i),pagination:!1,dataSource:n})}),(0,g.jsx)("div",{children:(0,g.jsx)(ae.ZP,{options:i.filter((function(e){return!n.map((function(e){return e.title})).includes(e.name)})).map((function(e){return{label:e.name,value:e.id}})),onCreateOption:function(t){return e.addAssignment(t)},onChange:function(t){return e.addAssignment(t.label.toString())},value:null})})]})]})}}]),n}(o.Component),je=n(95909),Ze=function(e,t){return[{title:"Title",dataIndex:"title",key:"title"},{title:"On Canvas",dataIndex:"onCanvas",key:"onCanvas",render:function(e,n){return void 0!==t.find((function(e){return e.title===n.title}))?(0,g.jsxs)("span",{className:"binary success",children:[(0,g.jsx)(de.Z,{})," Yes"]}):(0,g.jsxs)("span",{className:"binary fail",children:[(0,g.jsx)(pe.Z,{})," ",(0,g.jsx)("b",{children:"No"})]})}},{title:"Posted by",dataIndex:"posted_by",key:"posted_by",render:function(e,n){var i=t.find((function(e){return e.title===n.title}));return i?i.posted_by:"n/a"}},{title:"Posted at",dataIndex:"posted_at",key:"posted_at",render:function(e,n){var i=t.find((function(e){return e.title===n.title}));return i?i.posted_at:"n/a"}},{title:"Action",dataIndex:"action",key:"action",render:function(t,n){return(0,g.jsx)(c.Z,{danger:!0,icon:(0,g.jsx)(E.Z,{}),shape:"round",type:"primary",size:"large",onClick:function(){return e(n)}})}}]},me=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).addDiscussion=function(t){var n=e.props,i=n.canvasDiscussions,r=n.tile,s=i.find((function(e){return e.title===t})),a={id:-1,state:ve.j.new,tile_id:r?r.id:-1,title:s?s.title:t,type:"DISCUSSION"};e.props.addEntry(a)},e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeDiscussions,i=t.canvasDiscussions,r=t.wildcard;return console.log("discussions in manager",i),console.log("active discussions in manager",i),(0,g.jsxs)("div",{id:"discussionManager",children:[(0,g.jsx)("h2",{children:"Configure discussion metric."}),(0,g.jsx)(b.Z,{}),(0,g.jsxs)("span",{children:[(0,g.jsx)(oe.Z,{checked:r,onChange:function(t){e.props.setWildcard(t)},style:{zIndex:0}}),"\xa0",(0,g.jsx)("strong",{children:"Count all user posts."})," When enabled all posted submissions will be extracted for all students. If you wish to count the replies to a certain post uncheck this functionality and specify the posts you wish to track the replies of."]}),!r&&(0,g.jsxs)(re.Z,{children:[(0,g.jsx)("div",{id:"assignmentRegistry",children:(0,g.jsx)(ue.Z,{columns:Ze(this.props.removeEntry,i),pagination:!1,dataSource:n})}),(0,g.jsx)("div",{children:(0,g.jsx)(ae.ZP,{options:i.filter((function(e){return!n.map((function(e){return e.title})).includes(e.title)})).map((function(e){return{label:e.title,value:e.id}})),onCreateOption:function(t){return e.addDiscussion(t)},onChange:function(t){return e.addDiscussion(t.label.toString())},value:null})})]})]})}}]),n}(o.Component),ye=me,be=n(50419),we=n(61081),Te=(0,v.$j)((function(e){return{tiles:e.tiles,tileEntries:e.tileEntries}})),Ce=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1,metaKeys:[]},e.loadMetaKeys=function(t){e.setState({loading:!0},(function(){x.Z.getTileEntriesMetaKeys(t).then((function(t){e.setState({loading:!1,metaKeys:t})}))}))},e.getExpressionLabel=function(e){switch(e){case"lte":return"\u2264 (less than)";case"gte":return"\u2265 (greater than)";case"e":return"= (equal to)";default:return""}},e.getMetaKeyLabel=function(e){return"grade"===e?"Grade (default)":e},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.requirement;-1!==e.entry_id&&null!==e.entry_id&&this.loadMetaKeys(e.entry_id)}},{key:"componentWillReceiveProps",value:function(e,t){e.requirement.entry_id===this.props.requirement.entry_id||isNaN(e.requirement.entry_id)||this.loadMetaKeys(e.requirement.entry_id),-1===e.requirement.entry_id&&this.setState({loading:!1,metaKeys:[]})}},{key:"render",value:function(){var e,t,n=this,i=this.props,r=i.requirement,s=i.tiles,a=i.tileEntries,o=a.filter((function(e){return e.tile_id===r.tile_id})).map((function(e){return{label:e.title,value:e.id}})),l=s.find((function(e){return e.id===r.tile_id}));return l&&"BINARY"===l.content&&(o=[{value:"count",label:"COUNT (success)"}].concat((0,T.Z)(o))),r.state===ve.j.removed?null:(0,g.jsx)("div",{className:"goalRequirement",children:(0,g.jsxs)(z.Z,{gutter:[10,10],children:[(0,g.jsx)(M.Z,{xs:3,md:2,children:(0,g.jsx)(c.Z,{shape:"circle",danger:!0,onClick:function(){_().fire({icon:"warning",title:"Do you really want to delete this requirement?",showCancelButton:!0,confirmButtonText:"Delete",showLoaderOnConfirm:!0,allowOutsideClick:!0}).then((function(e){e.isConfirmed&&(r.state=ve.j.removed,n.props.updateRequirement(r),n.setState({requirement:r}))}))},icon:(0,g.jsx)(E.Z,{})})}),(0,g.jsxs)(M.Z,{xs:21,md:8,children:["Tile",(0,g.jsx)(te.ZP,{value:{value:r.tile_id,label:(null===(e=s.find((function(e){return e.id===r.tile_id})))||void 0===e?void 0:e.title)||"Choose tile"},options:s.map((function(e){return{value:e.id,label:e.title}})),onChange:function(e){e&&(r.tile_id=e.value,r.entry_id=-1,n.props.updateRequirement(r),n.setState({requirement:r}))}})]}),(0,g.jsxs)(M.Z,{xs:24,md:8,children:["Entry",(0,g.jsx)(te.ZP,{value:{value:r.entry_id,label:"count"===r.entry_id?"COUNT (success)":(null===(t=a.find((function(e){return e.id===r.entry_id})))||void 0===t?void 0:t.title)||"Choose entry"},isDisabled:-1===r.tile_id,onChange:function(e){e&&(r.entry_id=e.value,n.props.updateRequirement(r),n.setState({requirement:r}))},options:o}),(0,g.jsx)("br",{}),"Meta",(0,g.jsx)(te.ZP,{isLoading:this.state.loading,value:{value:r.meta_key||"",label:this.getMetaKeyLabel(r.meta_key||"")},onChange:function(e){e&&(r.meta_key=e.value,n.props.updateRequirement(r),n.setState({requirement:r}))},isDisabled:-1===r.entry_id||"count"===r.entry_id,options:[{value:"grade",label:"Grade (default)"}].concat((0,T.Z)(this.state.metaKeys.map((function(e){return{value:e,label:e}}))))})]}),(0,g.jsxs)(M.Z,{xs:24,md:3,children:["Expression",(0,g.jsx)(te.ZP,{isDisabled:-1===r.entry_id,value:r.expression?{label:this.getExpressionLabel(r.expression),value:r.expression}:void 0,onChange:function(e){e&&(r.expression=e.value,n.props.updateRequirement(r),n.setState({requirement:r}))},options:[{value:"lte",label:"\u2264 (less than)"},{value:"e",label:"= (equal to)"},{value:"gte",label:"\u2265 (greater than)"}]})]}),(0,g.jsxs)(M.Z,{xs:24,md:3,children:[(0,g.jsx)("br",{}),(0,g.jsx)(we.Z,{step:.5,size:"large",disabled:null===r.expression,value:r.value,onChange:function(e){r.value=Number(e),n.props.updateRequirement(r),n.setState({requirement:r})}})]})]})})}}]),n}(o.Component),ke=Te(Ce),Se=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s)))._initialize=function(t){e.setState({goal:t})},e.addNewRequirement=function(){var t=e.props,n=t.goal,i=t.tile;n.requirements=[{id:-1,state:ve.j.new,expression:null,goal_id:n.id,tile_id:i?i.id:-1,entry_id:-1,meta_key:"grade",value:0}].concat((0,T.Z)(n.requirements)),e.props.updateGoal(n)},e.updateRequirement=function(t){t.state!==ve.j.new&&t.state!==ve.j.removed&&(t.state=ve.j.updated),e.props.updateGoal(e.props.goal),e.setState({goal:e.props.goal})},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this._initialize(this.props.goal)}},{key:"componentWillReceiveProps",value:function(e,t){this._initialize(e.goal)}},{key:"render",value:function(){var e=this,t=this.props.goal;return t.state===ve.j.removed?null:(0,g.jsxs)("div",{className:"goalEntry",children:[(0,g.jsxs)("div",{className:"title",children:[(0,g.jsx)("span",{children:(0,g.jsx)("b",{children:"Title"})}),(0,g.jsx)(p.Z,{value:t.title,size:"large",onChange:function(n){t.title=n.target.value,e.props.updateGoal(t)}})]}),(0,g.jsx)("div",{className:"actions",children:(0,g.jsxs)(u.Z,{direction:"horizontal",children:[(0,g.jsx)(c.Z,{shape:"round",danger:!0,onClick:function(){_().fire({icon:"warning",title:"Do you really want to delete this goal?",text:"Goal: ".concat(t.title," will be deleted on save"),showCancelButton:!0,confirmButtonText:"Delete",showLoaderOnConfirm:!0,allowOutsideClick:!0}).then((function(n){n.isConfirmed&&(t.state=ve.j.removed,e.setState({goal:t}))}))},icon:(0,g.jsx)(E.Z,{}),children:"Delete goal"}),(0,g.jsx)(c.Z,{shape:"round",onClick:this.addNewRequirement,icon:(0,g.jsx)(h.Z,{}),children:"Requirement"})]})}),(0,g.jsx)(b.Z,{}),(0,g.jsx)("span",{children:(0,g.jsx)("b",{children:"Requirements"})}),t.requirements.map((function(t){return(0,g.jsx)(ke,{updateRequirement:e.updateRequirement,requirement:t})})),0===t.requirements.length&&(0,g.jsx)(le.Z,{message:"Goal doesn't have a requirement",type:"warning",showIcon:!0})]})}}]),n}(o.Component),Ee=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).addNewGoal=function(){var t=e.props,n=t.tile,i=t.goals;e.props.setGoals([{id:-1,state:ve.j.new,tile_id:n?n.id:-1,title:"",requirements:[]}].concat((0,T.Z)(i)))},e.updateGoal=function(t){t.state!==ve.j.new&&t.state!==ve.j.removed&&(t.state=ve.j.updated),e.props.setGoals(e.props.goals)},e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tile,i=t.goals;return(0,g.jsxs)("div",{id:"learningGoalsManager",children:[(0,g.jsx)("h2",{children:"Construct learning goals."}),(0,g.jsx)(c.Z,{shape:"round",icon:(0,g.jsx)(h.Z,{}),onClick:this.addNewGoal,children:"Goal"}),(0,g.jsx)(b.Z,{}),i.map((function(t){return(0,g.jsx)(Se,{tile:n,goal:t,updateGoal:e.updateGoal})}))]})}}]),n}(o.Component),Ne=(0,v.$j)((function(e){return{assignments:e.assignments,discussions:e.discussions}})),Ie=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={activeGoals:[],activeEntries:[],loading:!1},e._initializeTile=function(t){"LEARNING_OUTCOMES"===t.content?x.Z.getTileGoals(t.id).then((function(t){e.setState({activeGoals:t,loading:!1},(function(){e.props.updateGoals(t)}))})):x.Z.getTileEntries(t.id).then((function(t){e.setState({activeEntries:t,loading:!1},(function(){e.props.updateEntries(t)}))}))},e.addEntry=function(t){if(e.state.activeEntries.find((function(e){return e.title===t.title})))return be.ZP.error("Entry is already registered!"),void console.error("Entry is already registered!");e.setState({activeEntries:[].concat((0,T.Z)(e.state.activeEntries),[t])},(function(){e.props.updateEntries(e.state.activeEntries)}))},e.removeEntry=function(t){if(!e.state.activeEntries.find((function(e){return e.title===t.title})))return be.ZP.error("Entry does not exist!"),void console.error("Entry is already registered!");e.setState({activeEntries:e.state.activeEntries.filter((function(e){return e.title!==t.title}))},(function(){e.props.updateEntries(e.state.activeEntries)}))},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.tile&&this.setState({loading:!0},(function(){e._initializeTile(e.props.tile)}))}},{key:"componentWillReceiveProps",value:function(e,t){var n,i;(null===(n=e.tile)||void 0===n?void 0:n.id)===(null===(i=this.props.tile)||void 0===i?void 0:i.id)&&e.contentType===this.props.contentType&&e.tileType===this.props.tileType||(e.tile?this._initializeTile(e.tile):this.setState({activeEntries:[],activeGoals:[]}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeEntries,i=t.loading,r=t.activeGoals,s=this.props,a=s.tile,o=s.contentType,l=s.tileType,u=s.graphView,c=s.setGraphView;if(i)return(0,g.jsx)(je.Z,{small:!0});if(o&&"LEARNING_OUTCOMES"===o)return(0,g.jsx)(Ee,{tile:a,setGoals:function(t){e.setState({activeGoals:t}),e.props.updateGoals(t)},goals:r});if(o&&"PREDICTION"===o);else if(o&&!l)return(0,g.jsx)(se,{contentType:o});if(!o||!l)return null;switch(l){case"ASSIGNMENTS":return(0,g.jsx)(ge,{tile:a,addEntry:this.addEntry,removeEntry:this.removeEntry,graphView:u,setGraphView:c,activeAssignments:n,canvasAssignments:this.props.assignments});case"DISCUSSIONS":return(0,g.jsx)(ye,{tile:a,addEntry:this.addEntry,removeEntry:this.removeEntry,wildcard:this.props.wildcard,setWildcard:this.props.setWildcard,activeDiscussions:n,canvasDiscussions:this.props.discussions});case"EXTERNAL_DATA":return(0,g.jsx)(ie,{});default:return null}}}]),n}(o.Component),Ge=Ne(Ie),Oe=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.setVisibility;return(0,g.jsx)("div",{children:(0,g.jsx)(c.Z,{size:"large",className:t?"successButton":"dangerButton",onClick:function(){return n(!t)},children:t?"Visible":"Hidden"})})}}]),n}(o.Component),Ae={loadTiles:function(){return f.b.loadTiles()},loadEntries:function(){return f.b.loadTileEntries()},loadTileGoals:function(){return f.b.loadTileGoals()}},_e=(0,v.$j)((function(e){return{tileEntries:e.tileEntries,tileGoals:e.tileGoals}}),Ae),De=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={updating:!1,title:"",contentType:{label:void 0,value:void 0},tileType:{label:void 0,value:void 0},visible:!0,wildcard:!1,entries:[],goals:[],graphView:!1},e.create=(0,S.Z)((0,k.Z)().mark((function t(){var n,i,r,s,a,o,l,u,c,d,p;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,i=n.entries,r=n.title,s=n.visible,a=n.contentType,o=n.tileType,l=n.wildcard,u=n.goals,c=n.graphView,d=e.props.tileGroup,p={id:-1,group_id:d.id,title:r,position:-1,visible:s,content:a.value,type:o.value,notifications:!1,graph_view:c,wildcard:l},x.Z.createTile(p).then(function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){var r,s;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!["ASSIGNMENTS","DISCUSSIONS"].includes(n.type||"")){t.next=5;break}return t.next=3,e.createEntries(i.map((function(e){return e.tile_id=n.id,e})));case 3:t.next=16;break;case 5:if("LEARNING_OUTCOMES"!==n.content){t.next=16;break}r=0;case 7:if(!(r<u.length)){t.next=16;break}return u[r].tile_id=n.id,t.next=11,x.Z.createTileGoal(u[r]);case 11:s=t.sent,console.log("goal",s);case 13:r++,t.next=7;break;case 16:e.props.loadTiles().then((function(){e.props.loadEntries().then((function(){e.props.loadTileGoals().then((function(){e.setState({updating:!1},(function(){e.props.setOpen(!1)}))}))}))}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)}))),e.save=(0,S.Z)((0,k.Z)().mark((function t(){var n,i,r,s,a,o,l,u,c,d;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,i=n.entries,r=n.goals,s=n.graphView,a=n.wildcard,o=n.title,l=e.props,u=l.tileEntries,(c=l.tile).title=o,c.graph_view=s,c.wildcard=a,t.next=7,x.Z.updateTile(c);case 7:d=t.sent,e.setState({updating:!0},(0,S.Z)((0,k.Z)().mark((function t(){var n,s,a;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.filter((function(e){return e.tile_id===(c?c.id:-1)})).filter((function(e){return!i.map((function(e){return e.title})).includes(e.title)})),s=i.filter((function(e){return-1===e.id})),"ASSIGNMENTS"!==c.type&&"DISCUSSIONS"!==c.type){t.next=7;break}n=u.filter((function(e){return e.tile_id===d.id})).filter((function(e){return!i.map((function(e){return e.title})).includes(e.title)})),s=i.filter((function(e){return-1===e.id})),t.next=30;break;case 7:if("LEARNING_OUTCOMES"!==c.content){t.next=30;break}a=0;case 9:if(!(a<r.length)){t.next=30;break}if(null==r[a].state){t.next=27;break}t.t0=r[a].state,t.next=t.t0===ve.j.new?14:t.t0===ve.j.updated?18:t.t0===ve.j.removed?22:t.t0===ve.j.unchanged?26:27;break;case 14:return r[a].state=ve.j.unchanged,t.next=17,x.Z.createTileGoal(r[a]);case 17:return t.abrupt("break",27);case 18:return r[a].state=ve.j.unchanged,t.next=21,x.Z.updateTileGoal(r[a]);case 21:return t.abrupt("break",27);case 22:return r[a].state=ve.j.unchanged,t.next=25,x.Z.deleteTileGoal(r[a].id);case 25:case 26:return t.abrupt("break",27);case 27:a++,t.next=9;break;case 30:return t.next=32,e.deleteEntries(n);case 32:return t.next=34,e.createEntries(s);case 34:e.props.loadTiles().then((function(){e.props.loadEntries().then((function(){e.props.loadTileGoals().then((function(){e.setState({updating:!1},(function(){e.props.setOpen(!1)}))}))}))}));case 35:case"end":return t.stop()}}),t)}))));case 9:case"end":return t.stop()}}),t)}))),e.createEntries=function(){var e=(0,S.Z)((0,k.Z)().mark((function e(t){var n,i,r;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,w.Z)(t),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=9;break}return r=i.value,e.next=7,x.Z.createTileEntry(r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteEntries=function(){var e=(0,S.Z)((0,k.Z)().mark((function e(t){var n,i,r;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,w.Z)(t),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=9;break}return r=i.value,e.next=7,x.Z.deleteTileEntry(r.id);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),e}return(0,r.Z)(n,[{key:"componentWillReceiveProps",value:function(e,t){var n;if(void 0!==e.tile&&e.tile.id!==(null===(n=this.props.tile)||void 0===n?void 0:n.id)){var i=e.tile;i&&this.setState({title:i.title,contentType:{label:i.content,value:i.content},tileType:{label:i.type,value:i.type},visible:i.visible,graphView:i.graph_view})}else void 0===e.tile&&this.setState({title:"",contentType:{label:void 0,value:void 0},tileType:{label:void 0,value:void 0},visible:!1,graphView:!1})}},{key:"componentDidUpdate",value:function(e,t,n){!e.isOpen&&this.props.isOpen&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tileGroup,i=t.tiles,r=t.tile,s=this.state,a=s.title,o=s.contentType,l=s.tileType,u=s.visible;return(0,g.jsxs)(d.Z,{width:"100%",destroyOnClose:!0,title:void 0===r?"Create new tile":"Edit "+r.title,placement:"right",closable:!0,onClose:function(){return e.props.setOpen(!1)},visible:this.props.isOpen,getContainer:!1,style:{position:"absolute"},children:[(0,g.jsxs)(z.Z,{gutter:[10,25],style:{marginBottom:10},children:[(0,g.jsxs)(M.Z,{xs:24,children:[(0,g.jsxs)(z.Z,{gutter:50,children:[(0,g.jsx)(M.Z,{children:(0,g.jsx)(F.Z,{title:"Tile Group",value:n.title})}),(0,g.jsx)(M.Z,{children:(0,g.jsx)(F.Z,{title:"Children",value:i.filter((function(e){return e.group_id===n.id})).length,suffix:"tiles"})}),(0,g.jsx)(M.Z,{children:(0,g.jsx)(F.Z,{title:"Manage",valueRender:function(){return(0,g.jsx)(c.Z,{type:"primary",shape:"round",loading:e.state.updating,onClick:function(){return void 0===e.props.tile?e.create():e.save()},icon:(0,g.jsx)(ee.Z,{}),children:void 0===e.props.tile?"Create":"Save"})}})})]}),(0,g.jsx)(b.Z,{}),(0,g.jsx)("h2",{children:"Tile Configuration"})]}),(0,g.jsxs)(M.Z,{xs:12,children:[(0,g.jsx)("span",{children:"Title"}),(0,g.jsx)(p.Z,{size:"large",placeholder:"Specify",value:a,onChange:function(t){return e.setState({title:t.target.value})}})]}),(0,g.jsxs)(M.Z,{xs:12,children:[(0,g.jsx)("span",{children:"Visibility"}),(0,g.jsx)("br",{}),(0,g.jsx)(Oe,{visible:u,setVisibility:function(t){return e.setState({visible:t})}})]}),(0,g.jsxs)(M.Z,{xs:12,children:[(0,g.jsx)("span",{children:"Content type"}),(0,g.jsx)(te.ZP,{value:{label:o.label,value:o.value},style:{zIndex:100},options:[{label:"Binary",value:"BINARY"},{label:"Entries",value:"ENTRIES"},{label:"Prediction",value:"PREDICTION"},{label:"Learning Outcome",value:"LEARNING_OUTCOMES"}],isClearable:!0,onChange:function(t){t?e.setState({contentType:{label:t.label,value:t.value},tileType:{label:void 0,value:void 0}}):e.setState({contentType:{label:void 0,value:void 0},tileType:{label:void 0,value:void 0}})}})]}),(0,g.jsxs)(M.Z,{xs:12,children:[(0,g.jsx)("span",{children:"Tile type"}),"LEARNING_OUTCOMES"===o.value||"PREDICTION"===o.value?(0,g.jsx)("h3",{children:"N/A"}):(0,g.jsx)(te.ZP,{value:{label:l.label,value:l.value},isDisabled:!o,isClearable:!0,style:{zIndex:100},options:[{label:"Assignments",value:"ASSIGNMENTS"},{label:"Discussions",value:"DISCUSSIONS",isDisabled:"ENTRIES"!==(o?o.value:"")},{label:"External Data",value:"EXTERNAL_DATA"}],onChange:function(t){return e.setState({tileType:t?{label:t.label,value:t.value}:{label:void 0,value:void 0}})},placeholder:o?"Select type":"Specify content first"})]})]}),(0,g.jsx)(Ge,{tile:r,graphView:this.state.graphView,setGraphView:function(t){return e.setState({graphView:t})},wildcard:this.state.wildcard,setWildcard:function(t){return e.setState({wildcard:t})},updateEntries:function(t){return e.setState({entries:t})},updateGoals:function(t){return e.setState({goals:t})},contentType:this.state.contentType.value,tileType:this.state.tileType.value})]})}}]),n}(o.Component),qe=_e(De),Re=function(e,t){return 0===t.filter((function(t){return t.group_id===e.id})).length?{width:"100%",minHeight:200,border:"2px dotted #EAEAEA",borderRadius:5}:{}},ze=function(){var e=(0,S.Z)((0,k.Z)().mark((function e(t,n,i){var r,s,a,o,l;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.addedIndex,n.payload,s=n.removedIndex,a=JSON.parse(JSON.stringify(Me(i,t.id))),null===s||null===r){e.next=12;break}for(o=a[s-1],a.splice(r,0,o),a=s<r?a.filter((function(e,t){return t!==s-1})):a.filter((function(e,t){return t!==s})),l=0;l<a.length;l++)a[l].position=l+1;return i=[].concat((0,T.Z)(i.filter((function(e){return!a.map((function(e){return e.id})).includes(e.id)}))),(0,T.Z)(a)),e.abrupt("return",Promise.resolve(i));case 12:return e.abrupt("return",Promise.resolve(i));case 13:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),Me=function(e,t){return e.filter((function(e){return e.group_id===t})).sort((function(e,t){return e.position-t.position}))},Pe={loadGroups:function(){return f.b.loadGroups()},loadTiles:function(){return f.b.loadTiles()}},Le=(0,v.$j)((function(e){return{tileGroups:e.tileGroups}}),Pe),Ue=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={updating:[],editTile:void 0,isDraggerOpen:!1},e.deleteTile=function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.Z.deleteTile(n).then((function(){e.props.loadGroups().then((function(){e.props.loadTiles().then((function(){e.setState({isDraggerOpen:!1})}))}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.editTile,i=t.isDraggerOpen,r=t.updating,s=this.props,a=s.group,o=s.tiles,l=s.updateTiles,d=JSON.parse(JSON.stringify(o));return(0,g.jsxs)("div",{className:"tileWrapper",children:[(0,g.jsx)("h2",{children:a.title}),(0,g.jsxs)("div",{className:"tileContainer",children:[(0,g.jsx)(qe,{tile:n,tiles:o,tileGroup:a,isOpen:i,setOpen:function(t){return e.setState({isDraggerOpen:t})},updateTiles:l}),(0,g.jsxs)(H.Container,{groupName:"primary",style:(0,C.Z)({},Re(a,o)),getChildPayload:function(e){return Me(o,a.id)[e]},orientation:"horizontal",dragClass:"dragged",onDrop:function(t){ze(a,t,o).then(function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.map((function(e){var t=d.find((function(t){return t.id===e.id}));return!!t&&(t.group_id!==e.group_id||t.position!==e.position)})).some((function(e){return e}))&&e.setState({updating:[].concat((0,T.Z)(r),[a.id])},(0,S.Z)((0,k.Z)().mark((function t(){var i,s,o,u;return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.filter((function(e){var t=d.find((function(t){return t.id===e.id}));return!t||(t.position!==e.position||t.group_id!==e.group_id)})),s=(0,w.Z)(i),t.prev=2,s.s();case 4:if((o=s.n()).done){t.next=10;break}return u=o.value,t.next=8,x.Z.updateTile(u);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),s.e(t.t0);case 15:return t.prev=15,s.f(),t.finish(15);case 18:x.Z.getTiles().then(function(){var t=(0,S.Z)((0,k.Z)().mark((function t(n){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(n);case 2:e.setState({updating:r.filter((function(e){return e!==a.id}))});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 19:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:[(0,g.jsxs)("div",{className:"updateOverlay "+(r.includes(a.id)?"active":""),children:[(0,g.jsx)("div",{className:"overlayBackground"}),(0,g.jsx)("h1",{children:"Saving changes..."})]}),o.sort((function(e,t){return e.position-t.position})).map((function(t){return(0,g.jsx)(X,{tile:t,editTile:function(){return e.setState({editTile:t,isDraggerOpen:!0})},deleteTile:e.deleteTile},"dragMem"+t.id.toString())}))]},"containerGroup"+a.id.toString()),(0,g.jsx)("br",{}),(0,g.jsxs)(u.Z,{direction:"horizontal",children:[(0,g.jsx)(c.Z,{type:"link",onClick:function(){return e.setState({isDraggerOpen:!0,editTile:void 0})},icon:(0,g.jsx)(h.Z,{}),children:"Create Tile"}),(0,g.jsx)(c.Z,{type:"link",danger:!0,onClick:function(){_().fire({title:"Do you really want to delete this group?",text:"All tiles within this group will be deleted as a result.",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"rgb(255, 110, 90)",showLoaderOnConfirm:!0,allowOutsideClick:function(){return!_().isLoading()}}).then((function(t){t.isConfirmed&&x.Z.deleteTileGroup(a.id).then((function(){e.props.loadGroups().then((function(){_().fire("Task completed!","","success")}))}))}))},icon:(0,g.jsx)(E.Z,{}),children:"Delete Group"})]})]})]},"group-"+a.id.toString())}}]),n}(o.Component),Be=Le(Ue),Ve=n(5277),We={loadAssignments:function(){return Ve.A.loadAssignments()},loadDiscussions:function(){return Ve.A.loadDiscussions()},updateTiles:function(e){return f.b.updateTiles(e)}},Ke=(0,v.$j)((function(e){return{tiles:e.tiles,tileGroups:e.tileGroups}}),We),Ye=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.props.loadDiscussions(),this.props.loadAssignments()}},{key:"render",value:function(){var e=this,t=this.props,n=t.tiles,i=t.tileGroups;return(0,g.jsx)(l.Z,{menuKey:"tiles",children:(0,g.jsxs)("div",{id:"adminTiles",children:[(0,g.jsx)(y,{}),(0,g.jsx)("h1",{children:"Tiles"}),(0,g.jsx)("p",{children:"The overview shows all groups with their respective tiles. Drag around tiles to re-arrange them or create new ones!"}),(0,g.jsx)(b.Z,{}),i.map((function(t){return(0,g.jsx)(Be,{group:t,updateTiles:e.props.updateTiles,tiles:Me(n,t.id)})}))]})})}}]),n}(o.Component),$e=Ke(Ye)},49109:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(1413),r=n(15671),s=n(43144),a=n(60136),o=n(95212),l=n(72791),u=n(18622),c=n(35945),d=n(87309),p=n(14057),h=n(91523),f=n(1699),x=n(68438),v=n(60364),g=n(80184),j=(0,v.$j)((function(e){return{course:e.course,user:e.user}})),Z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={loaded:!1,students:[]},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.studentPickView&&f.Z.getStudents().then((function(t){return e.setState({students:t,loaded:!0})})),this.setState({loaded:!0})}},{key:"renderInner",value:function(){var e=this;if(this.props.studentPickView){var t=this.state,n=t.students,r=t.loaded;return(0,g.jsx)(u.ZP,{id:"studentPicker",isLoading:!r,options:n.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return{label:e.name,value:e.login_id}})),placeholder:"Choose a student",onChange:function(t){return e.props.setStudent(t?n.find((function(e){return e.login_id===t.value})):null)},isClearable:!0,styles:{control:function(e,t){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"transparent",color:"white",border:"1px solid white"})},singleValue:function(e,t){return(0,i.Z)((0,i.Z)({},e),{},{color:"white"})}}})}return(0,g.jsx)("div",{id:"inner",children:(0,g.jsx)("h2",{children:this.props.course?this.props.course.course_name:"Loading course..."})})}},{key:"render",value:function(){return(0,g.jsxs)(l.Fragment,{children:[(0,g.jsxs)("div",{id:"adminHeader",children:[this.props.studentPickView?(0,g.jsx)(h.rU,{to:"/admin",style:{float:"right"},children:(0,g.jsx)("h3",{children:"Admin Panel"})}):(0,g.jsx)("div",{style:{float:"right",padding:20},children:(0,g.jsx)(c.Z,{title:"Reload data",children:(0,g.jsx)(d.Z,{id:"reload",shape:"circle",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",color:"white"},icon:(0,g.jsx)(p.Z,{})})})}),(0,g.jsxs)("div",{id:"navbarContent",children:[(0,g.jsx)("div",{id:"brand",children:(0,g.jsx)(h.rU,{to:"/",children:(0,g.jsx)("h1",{children:"IGuideME"})})}),this.renderInner()]})]}),(0,x.f)()&&(0,g.jsxs)("div",{id:"debugNotice",children:["Application is running in ",(0,g.jsx)("strong",{children:"demo"})," mode. Changes will not be saved!"]})]})}}]),n}(l.Component),m=j(Z)}}]);
//# sourceMappingURL=787.f9505f02.chunk.js.map